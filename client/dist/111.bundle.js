"use strict";(self.webpackChunkthe_macro_trainer=self.webpackChunkthe_macro_trainer||[]).push([[111],{341:(e,t,a)=>{var r=a(4836);t.Z=void 0;var n=r(a(4938)),l=a(5893),o=(0,n.default)((0,l.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5.97 4.06L14.09 6l1.41 1.41L16.91 6l1.06 1.06-1.41 1.41 1.41 1.41-1.06 1.06-1.41-1.4-1.41 1.41-1.06-1.06 1.41-1.41-1.41-1.42zm-6.78.66h5v1.5h-5v-1.5zM11.5 16h-2v2H8v-2H6v-1.5h2v-2h1.5v2h2V16zm6.5 1.25h-5v-1.5h5v1.5zm0-2.5h-5v-1.5h5v1.5z"}),"Calculate");t.Z=o},783:(e,t,a)=>{a.d(t,{y:()=>f});var r=a(9833),n=a(4825),l=a(7294),o=a(1647),i=a(30),c=a(5659),u=a(5878),s=function(e){var t=e.age,a=e.setAge;return l.createElement(l.Fragment,null,l.createElement(o.Z,{id:"input-slider",gutterBottom:!0},"I am ",t," years young"),l.createElement(i.ZP,{container:!0,spacing:2,alignItems:"center"},l.createElement(i.ZP,{item:!0,xs:!0},l.createElement(c.ZP,{value:"number"==typeof t?t:0,onChange:function(e,t){var r=Array.isArray(t)?t[0]:t;a(r)},"data-testid":"age-slider","aria-labelledby":"input-slider",min:18,max:100,color:"secondary"})),l.createElement(i.ZP,{item:!0},l.createElement(u.Z,{value:t,size:"small",required:!0,onChange:function(e){a(""===e.target.value?"":Number(e.target.value))},onBlur:function(){t<18?a(18):t>100&&a(100)},"data-testid":"age-input",inputProps:{step:1,min:18,max:100,type:"number","aria-labelledby":"input-slider"}}))))},m=function(e){var t=e.height,a=e.setHeight;return l.createElement(l.Fragment,null,l.createElement(o.Z,{id:"input-slider",gutterBottom:!0},"I am ",t," inches tall"),l.createElement(i.ZP,{container:!0,spacing:2,alignItems:"center"},l.createElement(i.ZP,{item:!0,xs:!0},l.createElement(c.ZP,{value:"number"==typeof t?t:0,onChange:function(e,t){var r=Array.isArray(t)?t[0]:t;a(r)},"aria-labelledby":"height-input-slider","data-testid":"height-slider",min:54,max:84,color:"secondary"})),l.createElement(i.ZP,{item:!0},l.createElement(u.Z,{value:t,size:"small",onChange:function(e){a(""===e.target.value?"":Number(e.target.value))},onBlur:function(){t<54?a(54):t>84&&a(84)},"data-testid":"height-input",inputProps:{step:1,min:54,max:84,type:"number","aria-labelledby":"input-slider"}}))))},h=function(e){var t=e.weight,a=e.setWeight;return l.createElement(l.Fragment,null,l.createElement(o.Z,{id:"input-slider",gutterBottom:!0},"I weigh ",t," pounds"),l.createElement(i.ZP,{container:!0,spacing:2,alignItems:"center"},l.createElement(i.ZP,{item:!0,xs:!0},l.createElement(c.ZP,{value:"number"==typeof t?t:0,onChange:function(e,t){var r=Array.isArray(t)?t[0]:t;a(r)},"data-testid":"weight-slider",min:70,max:400,"aria-labelledby":"weight-input-slider",color:"secondary"})),l.createElement(i.ZP,{item:!0},l.createElement(u.Z,{value:t,size:"small",onChange:function(e){a(""===e.target.value?"":Number(e.target.value))},onBlur:function(){t<70?a(70):t>400&&a(400)},"data-testid":"weight-input",inputProps:{step:1,min:70,max:400,type:"number","aria-labelledby":"input-slider"}}))))},f=function(e){var t=e.handleGenderChange,a=e.gender,o=e.activityLevel,i=e.handleActivityLevelChange,c=e.age,u=e.setAge,f=e.height,g=e.setHeight,v=e.weight,d=e.setWeight,p=e.goal,y=e.handleGoalChange;return l.createElement(l.Fragment,null,l.createElement(r.Z,{color:"primary",fullWidth:!0,value:p,exclusive:!0,onChange:y},l.createElement(n.Z,{value:"weight_loss"},"Weight loss"),l.createElement(n.Z,{value:"maintain"},"Maintain"),l.createElement(n.Z,{value:"gain_muscle"},"Gain muscle")),l.createElement(r.Z,{color:"primary",fullWidth:!0,value:o,exclusive:!0,onChange:i},l.createElement(n.Z,{value:1},"Sedentary(no exercise)"),l.createElement(n.Z,{value:1.25},"Moderate (2x - 4x per week)"),l.createElement(n.Z,{value:1.5},"Active (5x+ per week)")),l.createElement(r.Z,{color:"primary",fullWidth:!0,value:a,exclusive:!0,onChange:t},l.createElement(n.Z,{value:"male"},"Male"),l.createElement(n.Z,{value:"female"},"Female"),l.createElement(n.Z,{value:"other"},"Non-binary")),l.createElement(s,{age:c,setAge:u}),l.createElement(m,{height:f,setHeight:g}),l.createElement(h,{weight:v,setWeight:d}))}},8044:(e,t,a)=>{a.d(t,{T:()=>E});var r=a(5722),n=a(9144),l=a(1647),o=a(5305),i=a(9620),c=a(7745),u=a(4498),s=a(8720),m=a(2962),h=a(9669),f=a.n(h),g=a(7294),v=a(947),d=a(7229),p=a(783),y=function(e,t,a,r){return new(a||(a=Promise))((function(n,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},b=function(e,t){var a,r,n,l,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{a=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},E=function(e){var t=e.setOpenErrorAlert,a=e.setErrorMessage,h=e.setShowNextPage,E=e.setShowSignup,w=e.setAlertSeverity,Z=e.showNextPage,x=e.page,M=e.setGoals,C=g.useState(1),P=C[0],S=C[1],A=g.useState("male"),N=A[0],_=A[1],k=g.useState("weight_loss"),G=k[0],L=k[1],F=g.useState(18),W=F[0],z=F[1],H=g.useState(60),B=H[0],I=H[1],T=g.useState(200),O=T[0],D=T[1],R=void 0!==Z&&Z;return g.createElement("div",{className:"macro-calculator-container"},g.createElement(r.Z,{onSubmit:function(e){return y(void 0,void 0,void 0,(function(){var r,n;return b(this,(function(l){switch(l.label){case 0:e.preventDefault(),r=(0,d.L)({gender:N,age:W,height:B,weight:O,activityLevel:P,goal:G}),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,f().post("/api/goals",r)];case 2:return l.sent(),"macrocalculator"===x&&void 0!==M?(M(r),a("You have updated your macronutrient needs.")):a("You have successfully created an account. Please login."),w("success"),t(!0),h(!1),E(!1),[3,4];case 3:return n=l.sent(),console.log("err:",n),[3,4];case 4:return[2]}}))}))},component:"form",className:"macro-calculator-form","data-testid":"macro-calculator-signup-form",elevation:2},void 0!==x&&"macrocalculator"===x?g.createElement(g.Fragment,null,g.createElement(n.Z,{direction:"row",sx:{gap:"1em"}},g.createElement(v.vav,{className:"macro-calculator-icon"}),g.createElement(l.Z,{align:"center",variant:"h6"},"Calculate your Macronutrient Recommendations")),g.createElement(l.Z,{variant:"subtitle1"},"Fill out the form below to calculate your recommended nutrient needs")):g.createElement(g.Fragment,null,g.createElement(l.Z,{variant:"h6"},"Complete setting up your account"),g.createElement(l.Z,{variant:"subtitle1"},"Fill out the form below so we can calculate your recommended nutrient needs")),g.createElement(p.y,{handleGenderChange:function(e,t){_(t)},gender:N,activityLevel:P,handleActivityLevelChange:function(e,t){S(t)},age:W,setAge:z,height:B,setHeight:I,weight:O,setWeight:D,goal:G,handleGoalChange:function(e,t){L(t)}}),void 0!==x&&"macrocalculator"===x?g.createElement(o.Z,{fullWidth:!0,"data-testid":"recalculate-btn",onClick:function(){return h(!0)},variant:"contained"},"Calculate"):g.createElement(o.Z,{fullWidth:!0,type:"submit",variant:"contained"},"Complete creating account"),void 0!==x&&"macrocalculator"===x?g.createElement(i.Z,{open:R},g.createElement(c.Z,null,"Are you sure you want to update your currentGoals? This will overwrite any of your current settings."),g.createElement("form",null,g.createElement(u.Z,null,g.createElement(s.Z,{display:"flex",flexDirection:"column",gap:"10px"})),g.createElement(m.Z,null,g.createElement(o.Z,{variant:"contained","aria-label":"submit form to recalculate macronutrients",type:"submit"},"Confirm"),g.createElement(o.Z,{color:"error",variant:"contained",onClick:function(){return h(!1)}},"Cancel")))):null))}},6162:(e,t,a)=>{a.d(t,{y:()=>n});var r=a(9250),n=function(){return(0,r.bx)()}},6111:(e,t,a)=>{a.r(t),a.d(t,{default:()=>g});var r=a(341),n=a(9144),l=a(1647),o=a(9669),i=a.n(o),c=a(7294),u=a(8044),s=a(1566),m=a(6162),h=function(e,t,a,r){return new(a||(a=Promise))((function(n,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},f=function(e,t){var a,r,n,l,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{a=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};const g=function(){var e=(0,m.y)(),t=e.setAlertMessage,a=e.setOpenAlert,o=e.setAlertSeverity,g=e.setGoals,v=(0,s.a)().isLoading,d=(0,c.useState)(!1),p=d[0],y=d[1];(0,c.useEffect)((function(){b()}),[]);var b=function(){return h(void 0,void 0,void 0,(function(){var e,t;return f(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,i().get("/api/goals")];case 1:return""!==(e=a.sent()).data&&g(e.data),[3,3];case 2:return t=a.sent(),console.log(t),[3,3];case 3:return[2]}}))}))};return v?null:c.createElement(c.Fragment,null,c.createElement("div",{className:"macro-calc-page"},c.createElement(n.Z,{direction:"row",spacing:1},c.createElement(r.Z,null),c.createElement(l.Z,{variant:"body1",align:"center"},"Recalculate your goals here, or navigate to your user profile page to enter your desired macronutrients")),c.createElement(u.T,{setOpenErrorAlert:a,setErrorMessage:t,setShowNextPage:y,setShowSignup:y,setAlertSeverity:o,page:"macrocalculator",showNextPage:p,setGoals:g})))}},7229:(e,t,a)=>{a.d(t,{L:()=>r});var r=function(e){var t,a,r,n=e.age,l=e.weight,o=e.gender,i=e.height,c=e.activityLevel,u=e.goal,s=Number(l)/2.2,m=2.54*Number(i),h=m/100,f=s/(h*h),g="female"===o?-161:5,v=10*s+6.25*m-5*Number(n)+g;r="female"===o?i<60?Math.floor(105-5*(60-Number(i))):Math.floor(105+5*(Number(i)-60)):i<60?Math.floor(106-6*(60-Number(i))):Math.floor(106+6*(Number(i)-60));var d=Math.floor(.25*(Number(l)-r)+r),p=Math.floor(r/2.2),y=Math.floor(d/2.2);f>=30?"weight_loss"===u?(t=Math.floor(v*c)-250,a=Math.floor(1.8*y)):"gain_muscle"===u?(t=Math.floor(v*c)+250,a=Math.floor(1.8*y)):(t=Math.floor(v*c),a=Math.floor(1.2*y)):f<30&&f>=25?"weight_loss"===u?(t=Math.floor(22*p),a=Math.floor(1.8*p)):"gain_muscle"===u?(t=Math.floor(32*p),a=Math.floor(1.8*p)):(t=Math.floor(28*p),a=Math.floor(1.2*p)):"weight_loss"===u?(t=Math.floor(22*s),a=Math.floor(1.8*s)):"gain_muscle"===u?(t=Math.floor(32*s),a=Math.floor(1.8*s)):(t=Math.floor(28*s),a=Math.floor(1.2*s));var b=Math.floor(.5*t/4);return{total_calories:t,total_carbohydrates:b,total_fat:Math.floor((t-(4*a+4*b))/9),total_protein:a,goal:u}}}}]);