"use strict";(self.webpackChunkthe_diabetes_calculator=self.webpackChunkthe_diabetes_calculator||[]).push([[593],{3379:(e,t,a)=>{var r=a(5318);t.Z=void 0;var n=r(a(4938)),l=a(5893),o=(0,n.default)((0,l.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos");t.Z=o},4229:(e,t,a)=>{var r=a(5318);t.Z=void 0;var n=r(a(4938)),l=a(5893),o=(0,n.default)((0,l.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings");t.Z=o},6332:(e,t,a)=>{a.d(t,{G:()=>o});var r=a(7294),n=a(9062),l=a(2658),o=function(e){var t=e.calories,a=e.caloriesUsed,o=e.caloriesTotal;return r.createElement(r.Fragment,null,r.createElement("div",{className:"daily-goals-kcal"},r.createElement(n.Z,{variant:"determinate",size:200,value:t,thickness:1,color:"secondary"}),r.createElement("div",{className:"daily-goals-kcal-title"},r.createElement(l.Z,{variant:"body1",align:"center"},"Calories"),r.createElement(l.Z,{variant:"h6"},a," / ",o))))}},6021:(e,t,a)=>{a.d(t,{H:()=>o});var r=a(7294),n=a(9062),l=a(2658),o=function(e){var t=e.goals;return r.createElement(r.Fragment,null,r.createElement("div",{className:"daily-goals-kcal"},r.createElement(n.Z,{variant:"determinate",size:200,value:100,thickness:1,color:"secondary"}),r.createElement("div",{className:"daily-goals-kcal-title"},r.createElement(l.Z,{align:"center",variant:"body1"},"Total Calories"),r.createElement(l.Z,{align:"center",variant:"h6"},t.total_calories))))}},4200:(e,t,a)=>{a.d(t,{N:()=>m});var r=a(7294),n=a(6332),l=a(6021),o=a(4083),i=a(2658),c=a(6914),s=a(1898),m=function(e){var t,a,m,u=e.goals,p=e.nutritionSummary,d=e.page,g=e.setGoals,f=e.handleSubmitUpdatedGoals;return void 0!==p&&p.length&&(a=p[5].amount,m=u.total_calories,t=Math.floor(a/m*100)),r.createElement(r.Fragment,null,r.createElement("div",{className:"daily-goals"},"mealplan"===d?r.createElement(i.Z,{variant:"h6"},"Today's Macronutrient Totals"):r.createElement(i.Z,{variant:"h6"},"Your Daily Macronutrient Goals"),"mealplan"===d&&void 0!==p&&p.length?r.createElement(r.Fragment,null,r.createElement(n.G,{calories:t,caloriesTotal:u.total_calories,caloriesUsed:Math.floor(p[5].amount)}),r.createElement("div",{className:"daily-goals-items","data-testid":"mealplan-goal-items"},r.createElement(s.z,{type:"Carbohydrates",nutrientsInMealPlan:p[7].amount,nutrientsTotal:u.total_carbohydrates}),r.createElement(s.z,{nutrientsTotal:u.total_protein,type:"Protein",nutrientsInMealPlan:p[28].amount}),r.createElement(s.z,{nutrientsTotal:u.total_fat,type:"Fat",nutrientsInMealPlan:p[11].amount}))):null,"search"===d||"user-profile"===d||"mealplan"===d&&void 0!==u&&void 0!==p&&0===p.length?r.createElement(r.Fragment,null,r.createElement(l.H,{goals:u}),r.createElement("form",{onSubmit:f,className:"daily-goals-items"},r.createElement(o.Y,{goals:u,page:d,setGoals:g}),"user-profile"===d?r.createElement(c.Z,{variant:"contained",fullWidth:!0,type:"submit"},"Update Goals"):null)):null))}},1898:(e,t,a)=>{a.d(t,{z:()=>s});var r=a(5295),n=a(2643),l=a(6447),o=a(2658),i=a(9041),c=a(7294),s=function(e){var t,a=e.nutrientsTotal,s=e.type,m=e.nutrientsInMealPlan;return void 0!==m&&(t=Math.floor(m/a*100)),c.createElement(c.Fragment,null,c.createElement(r.Z,null,c.createElement(n.Z,{sx:{display:"flex",flexDirection:"column",minWidth:"240px",flexGrow:"0",gap:"1rem"}},c.createElement(l.Z,{direction:"row",gap:"1rem",alignItems:"space-between"},c.createElement(o.Z,{align:"center",variant:"body1"},s),c.createElement(o.Z,{align:"center",variant:"body1",sx:{marginLeft:"auto"}},Math.floor(m)," / ",a," g")),c.createElement(i.Z,{variant:"determinate",value:t}))))}},4083:(e,t,a)=>{a.d(t,{Y:()=>u});var r=a(7294),n=a(2526),l=a(5295),o=a(2643),i=a(2658),c=a(3981),s=function(){return s=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},s.apply(this,arguments)},m=function(e){var t=e.nutrientsTotal,a=e.type,m=e.page,u=e.setGoals,p=e.goals,d=(0,n.R)("mode","dark");d[0],d[1];return r.createElement(r.Fragment,null,r.createElement(l.Z,{sx:{borderRadius:"15%"},elevation:5},r.createElement(o.Z,{sx:{display:"flex",flexDirection:"column",height:"10rem",width:"10rem",aligItems:"center",gap:"1rem",justifyContent:"center"}},r.createElement(i.Z,{className:"nutrient-type-text",align:"center",variant:"body1",component:"div"},a),"user-profile"===m?r.createElement(c.Z,{value:"".concat(t),type:"number",endAdornment:"g",fullWidth:!0,onInput:function(e){if(void 0!==u)if("Carbohydrates"===e.target.id){var t=parseInt(e.target.value),a=t<=15?0:t/3-5;u(s(s({},p),{total_carbohydrates:t,min_carbs_per_meal:Math.floor(a),max_carbs_per_meal:Math.floor(t/3+5)}))}else if("Protein"==e.target.id){var r=parseInt(e.target.value),n=r<=30?0:r/3-10;u(s(s({},p),{total_protein:r,min_protein_per_meal:Math.floor(n),max_protein_per_meal:Math.floor(r/3+10)}))}else if("Fat"===e.target.id){var l=parseInt(e.target.value),o=l<=30?0:l/3-10;u(s(s({},p),{total_fat:l,min_fat_per_meal:Math.floor(o),max_fat_per_meal:Math.floor(l/3+10)}))}},id:a,required:!0,inputProps:{style:{textAlign:"center"}}}):r.createElement(i.Z,{align:"center",variant:"h6"},t," g"),"Carbohydrates"===a&&r.createElement(i.Z,{align:"center",className:"range-text",variant:"subtitle2"},"Per meal: ",p.min_carbs_per_meal," -"," ",p.max_carbs_per_meal,"g"),"Protein"===a&&r.createElement(i.Z,{align:"center",className:"range-text",variant:"subtitle2"},"Per meal: ",p.min_protein_per_meal," -"," ",p.max_protein_per_meal,"g"),"Fat"===a&&r.createElement(i.Z,{align:"center",className:"range-text",variant:"subtitle2"},"Per meal: ",p.min_fat_per_meal," -"," ",p.max_fat_per_meal,"g"))))},u=function(e){var t=e.goals,a=e.page,n=e.setGoals;return r.createElement(r.Fragment,null,r.createElement(m,{type:"Carbohydrates",nutrientsTotal:t.total_carbohydrates,page:a,setGoals:n,goals:t}),r.createElement(m,{nutrientsTotal:t.total_protein,type:"Protein",page:a,setGoals:n,goals:t}),r.createElement(m,{nutrientsTotal:t.total_fat,type:"Fat",page:a,setGoals:n,goals:t}))}},3347:(e,t,a)=>{a.d(t,{K:()=>u});var r=a(724),n=a(7049),l=a(4386),o=a(6867),i=a(6447),c=a(7294),s=a(4200),m=a(727),u=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,u=e.SearchFormComponent,p=e.apiData,d=e.goals,g=e.page,f=e.nutritionSummary,h=e.mealplanItemsFound;return c.createElement(c.Fragment,null,c.createElement(c.Fragment,null,c.createElement(n.ZP,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:350,pt:"1rem",pb:"1rem"}}},c.createElement(l.Z,null,c.createElement(o.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2,display:{sm:"none"}}},c.createElement(r.Z,null))),c.createElement(i.Z,{sx:{width:"100%",pb:"5rem"},direction:"row",spacing:2,justifyContent:"center",alignItems:"center"},c.createElement(m.F,null)),"search"===g&&void 0!==p&&p.length?u:null,"search"===g&&void 0===p," ",c.createElement(s.N,{goals:d,page:"search"}),"mealplan"===g&&!0===f?c.createElement(s.N,{goals:d,nutritionSummary:f,page:"mealplan"}):null),c.createElement(n.ZP,{open:!0,variant:"permanent",ModalProps:{keepMounted:!0},sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:350,pt:"1rem"}}},c.createElement(i.Z,{sx:{width:"100%",pb:"5rem"},direction:"row",spacing:2,justifyContent:"center",alignItems:"center"},c.createElement(m.F,null)),"search"===g&&void 0!==p&&p.length?u:null,"search"===g&&void 0!==p&&0===p.length?c.createElement(s.N,{goals:d,page:"search"}):null,"mealplan"===g&&void 0!==f&&f.length>0?c.createElement(s.N,{goals:d,nutritionSummary:f,page:"mealplan"}):null,"mealplan"!==g||void 0===f||f.length||h?null:c.createElement(s.N,{goals:d,page:"search"}),"macrocalculator"===g||"user-profile"===g&&!f?c.createElement(s.N,{goals:d,page:"search"}):null)))}},6162:(e,t,a)=>{a.d(t,{y:()=>n});var r=a(6974),n=function(){return(0,r.bx)()}},1593:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var r=a(7294),n=a(3347),l=a(4200),o=a(6501),i=a(4386),c=a(6867),s=a(6447),m=a(2658),u=a(9669),p=a.n(u),d=a(1566),g=a(4229),f=a(3379),h=a(6162),v=function(){return v=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},v.apply(this,arguments)},y=function(e,t,a,r){return new(a||(a=Promise))((function(n,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},E=function(e,t){var a,r,n,l,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,r&&(n=2&l[0]?r.return:l[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,l[1])).done)return n;switch(r=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{a=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};const b=function(){var e=(0,h.y)(),t=e.handleDrawerToggle,a=e.setAlertMessage,u=e.setOpenAlert,b=e.setAlertSeverity,_=e.setGoals,x=e.goals,Z=e.mobileOpen,w=(0,d.a)(),M=w.isLoading,k=(w.isLoggedIn,w.username);(0,r.useEffect)((function(){p().get("/api/metrics").then((function(e){_(e.data)})).catch((function(e){a("Could not retrieve your daily goals. Please try again later."),b("error"),u(!0)}))}),[]);return M?null:r.createElement(r.Fragment,null,void 0!==x&&Object.keys(x).length>0?r.createElement(n.K,{mobileOpen:Z,handleDrawerToggle:t,page:"user-profile",goals:x}):null,r.createElement("div",{className:"user-profile-page"},r.createElement(o.Z,{className:"user-profile-container"},r.createElement(i.Z,{sx:{display:{sm:"none"},alignSelf:"flex-start"}},r.createElement(c.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:t,sx:{mr:2,display:{sm:"none"}}},r.createElement(f.Z,null))),r.createElement(s.Z,{direction:"row",spacing:2,sx:{paddingBottom:"1rem"}},r.createElement(g.Z,null),r.createElement(m.Z,{variant:"body1",align:"left"},"Welcome to your account, ",k,"! Edit your macronutrient goals to a custom amount (calories will be calculated based on your input).")),r.createElement(l.N,{goals:x,page:"user-profile",setGoals:_,handleSubmitUpdatedGoals:function(e){return y(void 0,void 0,void 0,(function(){var t,r,n;return E(this,(function(l){switch(l.label){case 0:e.preventDefault(),l.label=1;case 1:return l.trys.push([1,3,,4]),t=Math.floor(4*x.total_carbohydrates+4*x.total_protein+9*x.total_fat),r=t<=450?0:t/3-150,n=v(v({},x),{total_calories:t,min_calories_per_meal:Math.floor(r),max_calories_per_meal:Math.floor(t/3+150)}),_(n),[4,p().put("/api/metrics",n)];case 2:return 201===l.sent().status&&(a("Your Macronutrient goals have been updated!"),b("success"),u(!0)),[3,4];case 3:return l.sent(),a("Could not update goals. Please try again."),b("error"),u(!0),[3,4];case 4:return[2]}}))}))}}))))}}}]);