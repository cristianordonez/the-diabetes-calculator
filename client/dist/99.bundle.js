"use strict";(self.webpackChunkthe_diabetes_calculator=self.webpackChunkthe_diabetes_calculator||[]).push([[99],{8991:(e,t,a)=>{var n=a(5318);t.Z=void 0;var r=n(a(4938)),l=a(5893),o=(0,r.default)((0,l.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4ZM4 16V6h16v10.01L4 16Zm5.0967-6.0469c0-1.027.836-1.864 1.864-1.864 1.027 0 1.864.837 1.864 1.864 0 1.027-.837 1.864-1.864 1.864-1.028 0-1.864-.837-1.864-1.864Zm7.032 4.236-2.482-2.482c.331-.505.527-1.107.527-1.754 0-1.772-1.441-3.213-3.213-3.213s-3.214 1.441-3.214 3.213 1.442 3.214 3.214 3.214c.636 0 1.225-.192 1.724-.511l2.489 2.488.955-.955Z"}),"ScreenSearchDesktop");t.Z=o},4200:(e,t,a)=>{a.d(t,{N:()=>u});var n=a(7294),r=a(6332),l=a(6021),o=a(4083),s=a(2658),i=a(6914),c=a(1898),u=function(e){var t,a,u,m=e.goals,p=e.nutritionSummary,h=e.page,g=e.setGoals,d=e.handleSubmitUpdatedGoals;return void 0!==p&&p.length&&(a=p[5].amount,u=m.total_calories,t=Math.floor(a/u*100)),n.createElement(n.Fragment,null,n.createElement("div",{className:"daily-goals"},"mealplan"===h?n.createElement(s.Z,{variant:"h6"},"Today's Macronutrient Totals"):n.createElement(s.Z,{variant:"h6"},"Your Daily Macronutrient Goals"),"mealplan"===h&&void 0!==p&&p.length?n.createElement(n.Fragment,null,n.createElement(r.G,{calories:t,caloriesTotal:m.total_calories,caloriesUsed:Math.floor(p[5].amount)}),n.createElement("div",{className:"daily-goals-items","data-testid":"mealplan-goal-items"},n.createElement(c.z,{type:"Carbohydrates",nutrientsInMealPlan:p[7].amount,nutrientsTotal:m.total_carbohydrates}),n.createElement(c.z,{nutrientsTotal:m.total_protein,type:"Protein",nutrientsInMealPlan:p[28].amount}),n.createElement(c.z,{nutrientsTotal:m.total_fat,type:"Fat",nutrientsInMealPlan:p[11].amount}))):null,"search"===h||"user-profile"===h||"mealplan"===h&&void 0!==m&&void 0!==p&&0===p.length?n.createElement(n.Fragment,null,n.createElement(l.H,{goals:m}),n.createElement("form",{onSubmit:d,className:"daily-goals-items"},n.createElement(o.Y,{goals:m,page:h,setGoals:g}),"user-profile"===h?n.createElement(i.Z,{variant:"contained",fullWidth:!0,type:"submit"},"Update Goals"):null)):null))}},3347:(e,t,a)=>{a.d(t,{K:()=>m});var n=a(7294),r=a(4200),l=a(7049),o=a(4386),s=a(6867),i=a(6447),c=a(724),u=a(727),m=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,m=e.SearchFormComponent,p=e.apiData,h=e.goals,g=e.page,d=e.nutritionSummary,f=e.mealplanItemsFound;return n.createElement(n.Fragment,null,n.createElement(n.Fragment,null,n.createElement(l.ZP,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:350,pt:"1rem"}}},n.createElement(o.Z,null,n.createElement(s.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2,display:{sm:"none"}}},n.createElement(c.Z,null))),n.createElement(i.Z,{sx:{width:"100%",pb:"5rem"},direction:"row",spacing:2,justifyContent:"center",alignItems:"center"},n.createElement(u.F,null)),"search"===g&&void 0!==p&&p.length?m:null,"search"===g&&void 0===p," ",n.createElement(r.N,{goals:h,page:"search"}),"mealplan"===g&&!0===d?n.createElement(r.N,{goals:h,nutritionSummary:d,page:"mealplan"}):null),n.createElement(l.ZP,{open:!0,variant:"permanent",ModalProps:{keepMounted:!0},sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:350,pt:"1rem"}}},n.createElement(i.Z,{sx:{width:"100%",pb:"5rem"},direction:"row",spacing:2,justifyContent:"center",alignItems:"center"},n.createElement(u.F,null)),"search"===g&&void 0!==p&&p.length?m:null,"search"===g&&void 0!==p&&0===p.length?n.createElement(r.N,{goals:h,page:"search"}):null,"mealplan"===g&&void 0!==d&&d.length>0?n.createElement(r.N,{goals:h,nutritionSummary:d,page:"mealplan"}):null,"mealplan"!==g||void 0===d||d.length||f?null:n.createElement(r.N,{goals:h,page:"search"}),"macrocalculator"===g||"user-profile"===g&&!d?n.createElement(r.N,{goals:h,page:"search"}):null)))}},4512:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var n=a(7294),r=a(8991),l=a(6447),o=a(2658),s=a(4656),i=a(2640),c=a(6914),u=a(4825),m=a(8869),p=a(111),h=a(4735),g=a(9669),d=a.n(g),f=function(){return f=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},f.apply(this,arguments)},y=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function o(e){try{i(n.next(e))}catch(e){l(e)}}function s(e){try{i(n.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},b=function(e,t){var a,n,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}},v=function(e){var t=e.route,a=e.values,r=e.handleRouteChange,s=e.handleInputChange,i=e.handleTypeSelect,g=e.goals,v=e.setValues,E=e.setAlertMessage,S=e.setAlertSeverity,w=e.setLoading,_=e.setOpenAlert,C=e.setShowLoadMoreBtn,x=e.setAPIData;return n.createElement(n.Fragment,null,n.createElement("form",{onSubmit:function(e){return y(void 0,void 0,void 0,(function(){var n,r,l,o;return b(this,(function(s){switch(s.label){case 0:n=f(f({},a),{offset:0}),v(n),s.label=1;case 1:return s.trys.push([1,3,,4]),w(!0),e.preventDefault(),(r=a).minCalories=g.min_calories_per_meal,r.maxCalories=g.max_calories_per_meal,r.minCarbs=g.min_carbs_per_meal,r.maxCarbs=g.max_carbs_per_meal,r.minProtein=g.min_protein_per_meal,r.maxProtein=g.max_protein_per_meal,r.minFat=g.min_fat_per_meal,r.maxFat=g.max_fat_per_meal,[4,d().get("/api/".concat(t),{params:r})];case 2:return 0===(l=s.sent()).data.length?(E("No options matched your search. Try again with a broader search"),S("warning"),_(!0),C(!1)):(S("success"),E("Success! Here are your matching items."),_(!0),l.data.length<6?C(!1):C(!0)),v(r),x(l.data),w(!1),[3,4];case 3:return o=s.sent(),console.log(o),w(!1),[3,4];case 4:return[2]}}))}))}},n.createElement(l.Z,{spacing:3},n.createElement(o.Z,{variant:"subtitle2"}," ","Suggested goals are calculated based on recommend amounts per meal, considering 3 meals are had per day."),n.createElement(m.M,{route:t,handleRouteChange:r}),n.createElement(p.v,{query:a.query,handleInputChange:s}),n.createElement(h.l,{type:a.type,handleTypeSelect:i}),n.createElement(o.Z,{variant:"h6"},"Choose Calorie Range"),n.createElement(u.N,{handleInputChange:s,measurement:"kcal",nutrient:"Calories",minValue:g.min_calories_per_meal,maxValue:g.max_calories_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Carb Range"),n.createElement(u.N,{handleInputChange:s,measurement:"g",nutrient:"Carbs",minValue:g.min_carbs_per_meal,maxValue:g.max_carbs_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Protein Range"),n.createElement(u.N,{handleInputChange:s,measurement:"g",nutrient:"Protein",minValue:g.min_protein_per_meal,maxValue:g.max_protein_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Fat Range"),n.createElement(u.N,{handleInputChange:s,measurement:"g",nutrient:"Fat",minValue:g.min_fat_per_meal,maxValue:g.max_fat_per_meal}),n.createElement(c.Z,{type:"submit",variant:"contained"},"Submit"))))},E=a(4815),S=function(){return S=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},S.apply(this,arguments)},w=function(e){var t=e.handleSubmit,a=e.route,c=e.setRoute,u=(e.setCurrentTab,e.currentTab),m=e.handleChange,p=e.values,h=e.setValues,g=e.goals,d=e.setAlertMessage,f=e.setAlertSeverity,y=e.setLoading,b=e.setOpenAlert,w=e.setShowLoadMoreBtn,_=e.setAPIData,C=function(e){c(e.target.value)},x=function(e){var t;h(S(S({},p),((t={})[e.target.id]=e.target.value,t)))},M=function(e){h(S(S({},p),{type:e.target.value}))};return n.createElement("div",{className:"search-form"},n.createElement(l.Z,{direction:"row",spacing:1},n.createElement(r.Z,null),n.createElement(o.Z,{variant:"body1"},"Find recipes, grocery products, or menu items from over 800+ restaurants that match your nutrient goals")),n.createElement(s.Z,{value:u,onChange:m,"aria-label":"toggle suggested search",className:"search-form-tabs",indicatorColor:"secondary",textColor:"secondary"},n.createElement(i.Z,{value:"custom-search",label:"Custom"}),n.createElement(i.Z,{value:"suggested-goals",label:"Suggested"})),"custom-search"===u?n.createElement(E.U,{route:a,values:p,handleSubmit:t,handleRouteChange:C,handleInputChange:x,handleTypeSelect:M}):n.createElement(v,{route:a,values:p,handleRouteChange:C,handleInputChange:x,handleTypeSelect:M,goals:g,setValues:h,setAlertMessage:d,setAlertSeverity:f,setLoading:y,setOpenAlert:b,setShowLoadMoreBtn:w,setAPIData:_}))},_=a(7485),C=a(3347),x=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,r=e.SearchFormComponent,l=e.apiData,o=e.goals;return n.createElement(n.Fragment,null,n.createElement(C.K,{mobileOpen:t,handleDrawerToggle:a,SearchFormComponent:r,apiData:l,goals:o,page:"search"}))},M=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,r=e.nutritionSummary,l=e.mealplanItemsFound,o=e.goals;return n.createElement(n.Fragment,null,void 0!==o&&Object.keys(o).length?n.createElement(C.K,{mobileOpen:t,handleDrawerToggle:a,page:"mealplan",nutritionSummary:r,goals:o,mealplanItemsFound:l}):null)},I=a(6974),Z=a(8779),D=function(){return D=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},D.apply(this,arguments)},F=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function o(e){try{i(n.next(e))}catch(e){l(e)}}function s(e){try{i(n.throw(e))}catch(e){l(e)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,s)}i((n=n.apply(e,t||[])).next())}))},T=function(e,t){var a,n,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function s(l){return function(s){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,s])}}};const A=function(){var e=(0,n.useState)({}),t=e[0],a=e[1],r=(0,n.useState)(!0),l=r[0],o=r[1],s=(0,n.useState)(!1),i=s[0],c=s[1],u=(0,n.useState)([]),m=u[0],p=u[1],h=(0,n.useState)("custom-search"),g=h[0],f=h[1],y=(0,n.useState)("recipes"),b=y[0],v=y[1],E=(0,n.useState)(!1),S=E[0],A=E[1],O=(0,n.useState)(!1),P=O[0],k=O[1],N=(0,n.useState)([]),L=N[0],V=N[1],j=(0,n.useState)([]),R=j[0],G=j[1],B=(0,n.useState)([]),z=B[0],H=B[1],K=(0,n.useState)(""),U=K[0],W=K[1],q=(0,n.useState)([]),Y=q[0],J=q[1],Q=(0,n.useState)(!1),X=Q[0],$=Q[1],ee=(0,n.useState)([]),te=ee[0],ae=ee[1],ne=(0,n.useState)((0,Z.Z)(new Date(Date.now()),"yyyy-MM-dd")),re=ne[0],le=ne[1],oe=(0,n.useState)("error"),se=oe[0],ie=oe[1],ce=(0,n.useState)({query:"",type:"",intolerance:"",minCalories:"",maxCalories:"",minCarbs:"",maxCarbs:"",minProtein:"",maxProtein:"",minFat:"",maxFat:"",number:6,offset:0}),ue=ce[0],me=ce[1],pe=function(){c(!i)},he=n.createElement(w,{handleSubmit:function(e){return F(void 0,void 0,void 0,(function(){var t,a;return T(this,(function(n){switch(n.label){case 0:t=D(D({},ue),{offset:0}),me(t),n.label=1;case 1:return n.trys.push([1,3,,4]),k(!0),e.preventDefault(),[4,d().get("/api/".concat(b),{params:t,withCredentials:!0})];case 2:return 0===(a=n.sent()).data.length?(W("No options matched your search. Try again with a broader search"),ie("warning"),A(!0),$(!1)):(ie("success"),W("Success! Here are your matching items."),A(!0),a.data.length<6?$(!1):$(!0)),p(a.data),k(!1),[3,4];case 3:return n.sent(),k(!1),[3,4];case 4:return[2]}}))}))},route:b,setRoute:v,handleChange:function(e,t){f(t)},currentTab:g,setCurrentTab:f,values:ue,setValues:me,goals:t,setAlertMessage:W,setAlertSeverity:ie,setLoading:k,setOpenAlert:A,setShowLoadMoreBtn:$,setAPIData:p});return(0,n.useEffect)((function(){var e=d().get("/api/metrics",{withCredentials:!0});e.then((function(e){a(e.data)})),e.catch((function(e){console.log(e)}))}),[]),n.createElement(n.Fragment,null,n.createElement(I.Z5,null,n.createElement(I.AW,{path:"search",element:n.createElement(x,{goals:t,mobileOpen:i,handleDrawerToggle:pe,SearchFormComponent:he,apiData:m})}),n.createElement(I.AW,{path:"mealplan",element:n.createElement(M,{mobileOpen:i,handleDrawerToggle:pe,nutritionSummary:te,mealplanItemsFound:l,goals:t})}),n.createElement(I.AW,{path:"*",element:n.createElement(C.K,{mobileOpen:i,handleDrawerToggle:pe,page:"macrocalculator",goals:t})})),n.createElement(I.j3,{context:{loading:P,setGoals:a,handleDrawerToggle:pe,apiData:m,route:b,handleLoadMore:function(e){return F(void 0,void 0,void 0,(function(){var e,t,a;return T(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),k(!0),e=D(D({},ue),{offset:ue.offset+6}),me(e),[4,d().get("/api/".concat(b),{params:e})];case 1:return(t=n.sent()).data.length<6?$(!1):$(!0),p(m.concat(t.data)),k(!1),[3,3];case 2:return a=n.sent(),k(!1),console.log(a),[3,3];case 3:return[2]}}))}))},setAlertMessage:W,setOpenAlert:A,setAlertSeverity:ie,showLoadMoreBtn:X,SearchFormComponent:he,setNutritionSummary:ae,setMealplanItemsFound:o,setMealplanItems:J,currentDay:re,setCurrentDay:le,mealplanItems:Y,breakfastItems:L,setBreakfastItems:V,lunchItems:R,setLunchItems:G,dinnerItems:z,goals:t,setDinnerItems:H,mobileOpen:i}}),n.createElement(_.I,{openAlert:S,handleAlert:function(e){A(!1)},alertSeverity:se,alertMessage:U}))}}}]);