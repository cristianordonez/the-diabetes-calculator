"use strict";(self.webpackChunkthe_macro_trainer=self.webpackChunkthe_macro_trainer||[]).push([[103],{6540:(e,t,n)=>{var r=n(4836);t.Z=void 0;var a=r(n(4938)),o=n(5893),l=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=l},336:(e,t,n)=>{var r=n(4836);t.Z=void 0;var a=r(n(4938)),o=n(5893),l=(0,a.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.Z=l},1646:(e,t,n)=>{n.d(t,{T:()=>c});var r=n(5722),a=n(1647),o=n(7090),l=n(8779),i=n(584),u=n(7294),c=function(e){var t=e.currentDay,n=(0,l.Z)((0,i.Z)(new Date(t)),"MMMM dd, yyyy"),c=(0,l.Z)((0,o.Z)(new Date(t)),"MMMM dd, yyyy");return u.createElement(u.Fragment,null,u.createElement(r.Z,{className:"food-log-week-text",color:"secondary"},u.createElement(a.Z,{variant:"body1"},"Viewing Week:"),u.createElement(a.Z,{variant:"body1"},n),u.createElement(a.Z,{variant:"body1"},"-"),u.createElement(a.Z,{variant:"body1"},c)))}},8878:(e,t,n)=>{n.d(t,{$:()=>l});var r=n(7888),a=n(2949),o=n(7294),l=function(e){var t=e.inputValue,n=e.handleNumberChange,l=e.label,i=e.id;return o.createElement(r.Z,{sx:{width:"100%"}},o.createElement(a.Z,{value:t,required:!0,id:i,label:l,type:"number",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0}))}},9994:(e,t,n)=>{n.d(t,{K:()=>w});var r=n(8736),a=n(7272),o=n(8354),l=n(8720),i=n(9144),u=n(1647),c=n(7888),s=n(8508),m=n(2785),d=n(5841),f=n(3150),p=n(8561),h=n(6140),g=n(7294),v=n(3725),y=n(1523),E=function(e){var t=e.nutrientAmount,n=e.nutrientName,r=e.showRegularAmount,a=e.serving_size;return null===t?g.createElement(v.Y,{align:"right"},"-"):"Amount per Serving"===r?g.createElement(g.Fragment,null,g.createElement(v.Y,{align:"right"},Math.round(Number(t)/100*Number(a))," ",(0,y.O)(n))):g.createElement(g.Fragment,null,g.createElement(v.Y,{align:"right"},Math.round(Number(t))," ",(0,y.O)(n)))},b=function(e){var t=e.nutrientName,n=e.nutrientAmount,a=e.serving_size,o=e.showRegularAmount;return"id"===t||"meal_id"===t||"fdc_id"===t?null:"saturated_fat"===t||"trans_fat"===t||"dietary_fiber"===t||"total_sugars"===t?g.createElement(g.Fragment,null,g.createElement(r.Z,null,g.createElement(v.Y,{component:"th",scope:"row"},g.createElement(u.Z,{variant:"body2",sx:{pl:"20px"}},(0,y.i)(t))),g.createElement(E,{nutrientAmount:n,nutrientName:t,showRegularAmount:o,serving_size:a}))):g.createElement(g.Fragment,null,g.createElement(r.Z,null,g.createElement(v.Y,{component:"th",scope:"row"},g.createElement(u.Z,{variant:"body2",fontWeight:"bold"},(0,y.i)(t))),g.createElement(E,{nutrientAmount:n,nutrientName:t,showRegularAmount:o,serving_size:a})))},w=function(e){var t=e.open,n=e.nutrition,y=e.serving_size,E=e.showStandardizedCol,w=(0,g.useState)("Amount per Serving"),Z=w[0],x=w[1];return g.createElement(r.Z,null,g.createElement(a.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},g.createElement(o.Z,{in:t,timeout:"auto",unmountOnExit:!0},g.createElement(l.Z,{sx:{margin:1}},g.createElement(i.Z,{direction:"row",sx:{width:"100%"},alignItems:"center"},g.createElement(u.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Nutrition Facts"),E?g.createElement(c.Z,{sx:{width:"100%"}},g.createElement(s.Z,null,"Show"),g.createElement(m.Z,{value:Z,onChange:function(e){x(e.target.value)},label:"Show",required:!0,fullWidth:!0,size:"small",id:"data to show"},["Amount per Serving","Amount per 100 g"].map((function(e){return g.createElement(d.Z,{value:e,key:e},e)})))):null),g.createElement(f.Z,{size:"small","aria-label":"additional nutrition data",stickyHeader:!0},g.createElement(p.Z,null,g.createElement(r.Z,null,g.createElement(v.Y,null,"Nutrient"),g.createElement(v.Y,null,Z))),g.createElement(h.Z,null,Object.entries(n).map((function(e){return g.createElement(b,{key:e[0],nutrientName:e[0],nutrientAmount:e[1],serving_size:y,showRegularAmount:Z})}))))))))}},3725:(e,t,n)=>{n.d(t,{Y:()=>o});var r=n(7272),a=n(4026),o=(0,n(4174).ZP)(r.Z)((function(e){var t,n=e.theme;return(t={})["&.".concat(a.Z.head)]={backgroundColor:n.palette.background.paper},t["&.".concat(a.Z.body)]={fontSize:12,backgroundColor:n.palette.action.hover},t}))},7113:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Ee});var r=n(3147),a=n(9144),o=n(1647),l=n(5293),i=n(214),u=n(9669),c=n.n(u),s=n(7349),m=n(8779),d=n(466),f=n(3882),p=n(3946);var h=n(7294),g=n(1646),v=n(8720),y=n(2949),E=n(2111),b=n(7044),w=n(2856),Z=n(5842),x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x.apply(this,arguments)},S=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},C=function(e){var t=e.currentDay,n=e.setCurrentDay,r=e.setDayIndex,a=e.value,o=e.setValue,l=function(e){return S(void 0,void 0,void 0,(function(){return D(this,(function(t){return r((0,d.Z)(e)),o(e),n((0,m.Z)(e,"yyyy-MM-dd")),[2]}))}))};return h.createElement(v.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"}},h.createElement(w._,{dateAdapter:E.H},h.createElement(v.Z,{sx:{display:{xs:"block",sm:"none"}}},h.createElement(Z.O,{label:"Current Date",inputFormat:"MM/dd/yyyy",value:t,onChange:l,renderInput:function(e){return h.createElement(y.Z,x({},e,{variant:"standard"}))}})),h.createElement(v.Z,{sx:{display:{xs:"none",sm:"block"}}},h.createElement(b.$,{label:"Current Date",inputFormat:"MM/dd/yyyy","data-testid":"date-picker-textfield",value:a,onChange:l,renderInput:function(e){return h.createElement(y.Z,x({},e,{variant:"standard"}))}}))))},_=n(9620),F=n(7745),k=n(4498),A=n(4373),N=n(2962),z=n(5305),I=function(e){var t=e.inputValue,n=e.handleInputChange,r=e.title,l=e.id,i=e.textFieldError;return h.createElement(h.Fragment,null,h.createElement(A.Z,null),h.createElement(a.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pl:"1rem",pr:"1rem"}},h.createElement(o.Z,{sx:{minWidth:"25%"},variant:"body2"},r),h.createElement(y.Z,{sx:{flexGrow:"1"},id:l,error:i,label:"Brand owner"===r?"Optional":"Required",value:t,required:"Brand owner"!==r,onChange:n})))},M=n(8878),O=n(5722),L=n(7888),j=n(1523),P=function(e){var t=e.nutritionData,n=e.handleNutritionInput;return h.createElement(h.Fragment,null,h.createElement(O.Z,{elevation:5,sx:{width:"100%"}},h.createElement(o.Z,{variant:"h6",sx:{p:"1rem"}},"Nutrition Facts"),Object.keys(t).map((function(e,r){return h.createElement(h.Fragment,{key:r},h.createElement(A.Z,null),h.createElement(a.Z,{flexGrow:1,alignItems:"center",justifyContent:"space-between",direction:"row",sx:{p:"1rem"}},"calories"===e||"total_carbohydrates"===e||"protein"===e||"total_fat"===e?h.createElement(h.Fragment,null,h.createElement(o.Z,{sx:{fontWeight:"bold"}},(0,j.i)(e)),h.createElement(L.Z,{sx:{maxWidth:"40%"}},h.createElement(y.Z,{value:t["".concat(e)]+"",required:!0,id:e,label:"Required",type:"number",variant:"outlined",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0}))):h.createElement(h.Fragment,null,h.createElement(o.Z,{variant:"body2"},(0,j.i)(e)),h.createElement(L.Z,{sx:{maxWidth:"40%"}},h.createElement(y.Z,{value:t["".concat(e)]+"",id:e,label:"Optional",type:"number",variant:"outlined",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0})))))}))))},W=n(8508),T=n(2785),Y=n(5841),V=["g","mL"],R=function(e){var t=e.handleSelectChange,n=e.servingSizeUnit;return h.createElement(L.Z,{sx:{width:"100%"}},h.createElement(W.Z,null,"Unit"),h.createElement(T.Z,{value:n,onChange:t,label:"Serving Size Unit",required:!0,fullWidth:!0,id:"serving_size_unit"},V.map((function(e){return h.createElement(Y.Z,{key:e,value:e},e)}))))},U=function(){return U=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},U.apply(this,arguments)},q=function(e){var t=e.openDialog,n=e.handleOpeningDialog,r=e.showNutrientDataForm,l=e.createFoodData,i=e.setCreateFoodData,u=e.handleSubmit,c=e.setShowNutrientDataForm,s=(0,h.useState)(!1),m=s[0],d=s[1],f=function(e){var t;i(U(U({},l),((t={})[e.target.id]=e.target.value,t)))};return(0,h.useEffect)((function(){d(!1)}),[t]),h.createElement(h.Fragment,null,h.createElement(_.Z,{open:t,fullWidth:!0},h.createElement(F.Z,null,"Create Custom Food"),h.createElement("form",{onSubmit:u},h.createElement(k.Z,{sx:{p:0,width:"100%"}},r?h.createElement(P,{handleNutritionInput:function(e){i((function(t){var n;return U(U({},t),{nutrition:U(U({},t.nutrition),(n={},n[e.target.id]=e.target.value,n))})}))},nutritionData:l.nutrition}):h.createElement(v.Z,{display:"flex",flexDirection:"column",gap:"10px"},h.createElement(I,{inputValue:l.brand_owner,title:"Brand owner",id:"brand_owner",textFieldError:!1,handleInputChange:f}),h.createElement(I,{inputValue:l.description,title:"Description",textFieldError:m,id:"description",handleInputChange:f}),h.createElement(A.Z,null),h.createElement(a.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",sx:{pl:"1rem",pr:"1rem"}},h.createElement(o.Z,{sx:{minWidth:"25%"},variant:"body2",align:"left"},"Serving Size"),h.createElement(M.$,{inputValue:l.serving_size,handleNumberChange:f,label:"Amount per serving",id:"serving_size"}),h.createElement(R,{servingSizeUnit:l.serving_size_unit,handleSelectChange:function(e){i(U(U({},l),{serving_size_unit:e.target.value}))}})))),h.createElement(N.Z,null,h.createElement(z.Z,{onClick:n,color:"error"},"Cancel"),r?h.createElement(z.Z,{"data-testid":"create-food-btn","aria-label":"submit form to create a new food",type:"submit",color:"success"},"Submit"):h.createElement(z.Z,{"data-testid":"create-food-btn","aria-label":"submit form to create a new food",onClick:function(e){e.preventDefault(),""===l.description?d(!0):c(!r)},color:"info"},"Almost done")))))},B=n(6540),G=n(3406),H=n(3150),$=n(8561),K=n(8736),J=n(6140),Q=n(9250),X=n(3725),ee=n(5503),te=n(813),ne=n(336),re=n(7272),ae=n(8790),oe=n(130),le=n(2388),ie=n(9994),ue=function(e){var t=e.meal,n=e.currentDay,r=e.handleDeleteRow,a=(0,h.useState)(!1),o=a[0],l=a[1];return h.createElement(h.Fragment,null,h.createElement(K.Z,{hover:!1,sx:{"& > *":{borderBottom:"unset"}}},h.createElement(re.Z,null,h.createElement(ae.Z,{enterDelay:600,enterNextDelay:1200,title:"View item's nutrition facts"},h.createElement(oe.Z,{"aria-label":"expand row",size:"small",onClick:function(e){e.stopPropagation(),l(!o)}},o?h.createElement(te.Z,null):h.createElement(ee.Z,null)))),h.createElement(re.Z,null,(0,le.O)(t.brand_owner,t.description)),h.createElement(re.Z,null,Number(t.serving_size)*Number(t.servings)," ",t.serving_size_unit),h.createElement(re.Z,null,t.nutrition.calories," kcal"),h.createElement(re.Z,null,h.createElement(ae.Z,{enterDelay:600,enterNextDelay:1200,title:"Delete item"},h.createElement(oe.Z,{"aria-label":"delete from food log",size:"small",onClick:function(){return r(t.meal_id,n)}},h.createElement(ne.Z,{color:"error"}))))),h.createElement(ie.K,{open:o,nutrition:t.nutrition,serving_size:100,showStandardizedCol:!1}))},ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ce.apply(this,arguments)},se=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((r=r.apply(e,t||[])).next())}))},me=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},de=function(e){var t=e.meals,n=e.setOpenAlert,r=e.setAlertSeverity,l=e.setAlertMessage,i=e.setFoodLogItems,u=e.currentDay,s=e.slotName,m=e.setNutritionSummary,d=e.handleOpeningDialog,f=e.slot,p=e.setCreateFoodData,g=e.createFoodData,v=(0,Q.s0)(),y=function(e,t){return se(void 0,void 0,void 0,(function(){var a,o;return me(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,c().delete("/api/foodLog/".concat(e),{params:{currentDay:t},withCredentials:!0})];case 1:return a=u.sent(),i(a.data.updatedItems),m(a.data.updatedNutritionSummary),r("success"),l("Food item has been deleted"),n(!0),[3,3];case 2:return o=u.sent(),console.log("err: ",o),r("error"),l("Unable to delete item. Please try again later."),n(!0),[3,3];case 3:return[2]}}))}))};return h.createElement(h.Fragment,null,h.createElement(G.Z,{component:O.Z},h.createElement(H.Z,{"aria-label":"Food items for ".concat(s)},h.createElement($.Z,null,h.createElement(K.Z,null,h.createElement(X.Y,{sx:{fontWeight:"bold"},variant:"head"},s),h.createElement(X.Y,{variant:"head"}),h.createElement(X.Y,{variant:"head"}),h.createElement(X.Y,{variant:"head"}),h.createElement(X.Y,{variant:"head"}))),h.createElement(J.Z,null,t.map((function(e){return h.createElement(ue,{key:e.fdc_id,meal:e,currentDay:u,handleDeleteRow:y})})))),h.createElement(a.Z,{sx:{p:"5px"},alignItems:"center",direction:"row"},h.createElement(z.Z,{onClick:function(){return v("/home/search")}},h.createElement(B.Z,{fontSize:"small"}),h.createElement(o.Z,{variant:"overline"},"Add Food")),h.createElement(z.Z,{variant:"text",color:"secondary",onClick:function(e){p(ce(ce({},g),{slot:f})),d()}},h.createElement(B.Z,{fontSize:"small"}),h.createElement(o.Z,{variant:"overline"},"Add Custom Food")))))},fe=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((r=r.apply(e,t||[])).next())}))},pe=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},he=function(e){var t=e.foodLogItems,n=e.setFoodLogItems,r=e.setOpenAlert,o=e.setAlertSeverity,l=e.setAlertMessage,i=e.currentDay,u=e.setNutritionSummary,s=(0,h.useState)(!1),m=s[0],d=s[1],f=(0,h.useState)(!1),p=f[0],g=f[1],v={date:i,slot:1,data_type:"custom",servings:1,brand_owner:"",description:"",serving_size:100,serving_size_unit:"g",nutrition:{calories:"",total_fat:"",saturated_fat:"",trans_fat:"",cholesterol:"",sodium:"",potassium:"",total_carbohydrates:"",dietary_fiber:"",total_sugars:"",protein:"",calcium:"",iron:"",vitamin_d:""}},y=(0,h.useState)(v),E=y[0],b=y[1],w=[],Z=[],x=[],S=[];t.length&&t.forEach((function(e){1===e.slot?w.push(e):2===e.slot?Z.push(e):3===e.slot?x.push(e):S.push(e)}));var D=function(){d(!m),setTimeout((function(){g(!1)}),1e3)},C=["Morning","Afternoon","Evening","Snack"],_=[1,2,3,4],F=[w,Z,x,S];return h.createElement(h.Fragment,null,h.createElement(a.Z,{direction:"column",spacing:4,sx:{width:"100%"}},F.map((function(e,t){return h.createElement(de,{key:t,slotName:C[t],meals:e,setOpenAlert:r,setAlertSeverity:o,setAlertMessage:l,setFoodLogItems:n,currentDay:i,setNutritionSummary:u,handleOpeningDialog:D,setCreateFoodData:b,createFoodData:E,slot:_[t]})})),h.createElement(q,{openDialog:m,showNutrientDataForm:p,setShowNutrientDataForm:g,handleOpeningDialog:D,setCreateFoodData:b,createFoodData:E,handleSubmit:function(e){return fe(void 0,void 0,void 0,(function(){var t,a;return pe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.preventDefault(),o("success"),l("Custom food has been added to your food log!"),[4,c().post("/api/foodLog/custom",E)];case 1:return t=i.sent(),n(t.data.updatedFoodLogItems),r(!0),u(t.data.updatedNutritionSummary),b(v),D(),[3,3];case 2:return a=i.sent(),o("error"),l("Unable to add custom food to your food log"),r(!0),D(),console.log(a),[3,3];case 3:return[2]}}))}))}})))},ge=function(e,t,n,r){return new(n||(n=Promise))((function(a,o){function l(e){try{u(r.next(e))}catch(e){o(e)}}function i(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(l,i)}u((r=r.apply(e,t||[])).next())}))},ve=function(e,t){var n,r,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;switch(r=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,r=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!(a=l.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(e,l)}catch(e){o=[6,e],r=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}},ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const Ee=function(e){var t=e.setAlertMessage,n=e.setOpenAlert,u=e.setAlertSeverity,v=e.setNutritionSummary,y=e.setFoodLogItems,E=e.setIsSearching,b=e.foodLogItems,w=(0,h.useState)((0,d.Z)(Date.now())),Z=w[0],x=w[1],S=h.useState(new Date(Date.now())),D=S[0],_=S[1],F=(0,h.useState)((0,m.Z)(new Date(Date.now()),"yyyy-MM-dd")),k=F[0],A=F[1];(0,h.useEffect)((function(){N()}),[k]);var N=function(){return ge(void 0,void 0,void 0,(function(){var e,r;return ve(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,c().get("/api/foodLog/day",{params:{date:k},withCredentials:!0})];case 1:return 0===(e=a.sent()).data.foodLogItems.length&&(u("info"),t("You have no items saved on this day for your food log."),n(!0)),y(e.data.foodLogItems),v(e.data.nutritionSummary),E(!1),[3,3];case 2:return r=a.sent(),console.log(r),[3,3];case 3:return[2]}}))}))},z=function(e){var t=e.split("-");return{year:t[0],month:t[1],day:t[2]}};return h.createElement(h.Fragment,null,h.createElement("div",{className:"food-log-page"},h.createElement(g.T,{currentDay:k}),h.createElement("div",{className:"food-log-page-main-content"},h.createElement(a.Z,{direction:"row",spacing:{xs:1,sm:4},alignItems:"space-evenly"},h.createElement(a.Z,{direction:"row",spacing:.5,sx:{width:"50%"},justifyContent:"space-between"},h.createElement(r.Z,null),h.createElement(o.Z,{variant:"body1"},"Change the current day by navigating through the tabs, or change the week by using the calendar dropdown to the right")),h.createElement(C,{currentDay:k,setCurrentDay:A,setDayIndex:x,value:D,setValue:_})),h.createElement("div",{className:"tabs-container"},h.createElement(l.Z,{value:Z,onChange:function(e,t){var n,r=t-Z,a=z(k),o=a.year,l=a.month,i=a.day;r>0?n=(0,s.Z)(new Date("".concat(o,", ").concat(l,", ").concat(i)),r):r<0&&(n=function(e,t){(0,f.Z)(2,arguments);var n=(0,p.Z)(t);return(0,s.Z)(e,-n)}(new Date("".concat(o,", ").concat(l,", ").concat(i)),Math.abs(r))),void 0!==n&&(_(n),x(t),A((0,m.Z)(n,"yyyy-MM-dd")))},variant:"scrollable",scrollButtons:"auto","aria-label":"change FoodLog date"},ye.map((function(e){return h.createElement(i.Z,{key:e,label:e})})))),h.createElement(he,{setFoodLogItems:y,currentDay:k,foodLogItems:b,setOpenAlert:n,setAlertSeverity:u,setAlertMessage:t,setNutritionSummary:v}))))}},1523:(e,t,n)=>{n.d(t,{O:()=>o,i:()=>a});var r={calories:["Calories",""],total_fat:["Total Fat","g"],saturated_fat:["Saturated Fat","g"],trans_fat:["Trans Fat","g"],cholesterol:["Cholesterol","mg"],sodium:["Sodium","mg"],total_carbohydrates:["Total Carbohydrates","g"],dietary_fiber:["Dietary Fiber","g"],total_sugars:["Total Sugars","g"],protein:["Protein","g"],vitamin_d:["Vitamin D","mcg"],calcium:["Calcium","mg"],iron:["Iron","mg"],potassium:["Potassium","mg"]},a=function(e){return r[e][0]},o=function(e){return r[e][1]}},2388:(e,t,n)=>{n.d(t,{O:()=>r});var r=function(e,t){var n="",r="";if(null!==e&&""!==e&&void 0!==e){for(var a=e.split(" "),o=0;o<a.length;o++)""!==a[o]&&(a[o]=a[o][0]+a[o].slice(1).toLowerCase());n=a.join(" ")}if(null!=t&&""!==t){var l=t.split(" ");for(o=0;o<l.length;o++)""!==l[o]&&(l[o]=l[o][0]+l[o].slice(1).toLowerCase());r=l.join(" ")}return""!==n?"".concat(r," (").concat(n,")"):r}}}]);