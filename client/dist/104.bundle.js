"use strict";(self.webpackChunkthe_macro_trainer=self.webpackChunkthe_macro_trainer||[]).push([[104],{2104:(e,t,n)=>{n.d(t,{B:()=>ee});var r=n(7600),a=n(9144),l=n(1647),i=n(3406),o=n(5722),c=n(3150),u=n(8561),s=n(8736),m=n(6140),d=n(5305),g=n(7294),v=n(3725),p=n(9620),f=n(7745),h=n(4498),E=n(8720),b=n(4373),y=n(2962),Z=n(9669),S=n.n(Z),_=n(8779),w=n(8366),z=n(2949),x=n(2111),k=n(7044),C=n(2856),A=n(5842),F=n(722),D=function(){return D=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},D.apply(this,arguments)},O=function(e){var t=e.setData,n=e.data,r=g.useState((0,w.Z)()),a=r[0],l=r[1],i=function(e){var r=e;l(e);var a=(0,F.format)(r,"yyy-MM-dd");t(D(D({},n),{date:a}))};return g.createElement(C._,{dateAdapter:x.H},g.createElement(E.Z,{sx:{display:{xs:"block",sm:"none"},width:"100%"}},g.createElement(A.O,{label:"Select day",inputFormat:"MM/dd/yyyy",value:a,onChange:i,renderInput:function(e){return g.createElement(z.Z,D({},e,{variant:"standard",fullWidth:!0}))}})),g.createElement(E.Z,{sx:{display:{xs:"none",sm:"block"},width:"100%"}},g.createElement(k.$,{label:"Select day",inputFormat:"MM/dd/yyyy","data-testid":"date-picker-textfield",value:a,onChange:i,renderInput:function(e){return g.createElement(z.Z,D({},e,{variant:"standard",fullWidth:!0}))}})))},N=n(7888),M=n(8508),T=n(2785),Y=n(5841),I=function(e){var t=e.handleSelectServingSize,n=e.currentServingSizes,r=e.servingSize,i=e.currentServingSizeUnit;return g.createElement(g.Fragment,null,g.createElement(b.Z,null),g.createElement(a.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pl:"1rem",pr:"1rem"},justifyContent:"center"},g.createElement(l.Z,{sx:{minWidth:"25%"},variant:"body2"},"Serving Size"),g.createElement(N.Z,{sx:{width:"100%"}},g.createElement(M.Z,null,"Enter serving size"),g.createElement(T.Z,{value:r+"",onChange:t,label:"Enter serving size",required:!0,fullWidth:!0,id:"unit"},g.createElement(Y.Z,{key:1,value:1},"1 g"),n.map((function(e){return 100===e?g.createElement(Y.Z,{key:e,value:e},e," ",i," (standardized serving size)"):g.createElement(Y.Z,{key:e,value:e},e," ",i)}))))))},L=[{value:1,name:"Morning"},{value:2,name:"Afternoon"},{value:3,name:"Evening"},{value:4,name:"Snack"}],W=function(e){var t=e.slot,n=e.handleSelectSlot;return g.createElement(g.Fragment,null,g.createElement(b.Z,null),g.createElement(a.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pl:"1rem",pr:"1rem",width:"100%"}},g.createElement(l.Z,{variant:"body2",sx:{minWidth:"25%"}},"Slot"),g.createElement(N.Z,{sx:{width:"100%"}},g.createElement(M.Z,null,"Enter Slot"),g.createElement(T.Z,{value:"".concat(t),onChange:n,label:"Enter Slot",required:!0,fullWidth:!0,id:"slot"},L.map((function(e){return g.createElement(Y.Z,{key:e.value,value:e.value},e.name)}))))))},j=n(8878),P=function(){return P=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},P.apply(this,arguments)},B=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function i(e){try{c(r.next(e))}catch(e){l(e)}}function o(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,o)}c((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,a,l,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return i.label++,{value:l[1],done:!1};case 5:i.label++,r=l[1],l=[0];continue;case 7:l=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){i=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){i.label=l[1];break}if(6===l[0]&&i.label<a[1]){i.label=a[1],a=l;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(l);break}a[2]&&i.ops.pop(),i.trys.pop();continue}l=t.call(e,i)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},U=function(e){var t=e.openDialog,n=e.handleOpeningDialog,r=e.id,i=e.currentDataType,o=e.currentServingSizes,c=e.currentServingSizeUnit,u=e.currentDescription,s=e.currentBrand,m=e.setOpenDialog,v=e.setAlertMessage,Z=e.setOpenSnackbar,z=e.setAlertSeverity,x=(0,g.useState)({date:(0,_.Z)((0,w.Z)(),"yyyy-MM-dd"),slot:1,fdc_id:r,servings:"",data_type:i,serving_size:o[0],serving_size_unit:c,description:u,brand_owner:s}),k=x[0],C=x[1];(0,g.useEffect)((function(){C(P(P({},k),{fdc_id:r,servings:1,data_type:i,serving_size:o[0],serving_size_unit:c,slot:1,date:(0,_.Z)((0,w.Z)(),"yyyy-MM-dd"),description:u,brand_owner:s}))}),[r]);return g.createElement(p.Z,{open:t,onClose:function(){m(!1)}},g.createElement(f.Z,{align:"left"},"Add item to your food log"),g.createElement("form",{onSubmit:function(e){return B(void 0,void 0,void 0,(function(){var t;return R(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e.preventDefault(),[4,S().post("/api/foodLog",k)];case 1:return n.sent(),z("success"),v("Item has been added to your food log!"),Z(!0),m(!1),[3,3];case 2:return t=n.sent(),console.log(t),[3,3];case 3:return[2]}}))}))}},g.createElement(h.Z,{sx:{p:0,width:"100%"}},g.createElement(E.Z,{display:"flex",flexDirection:"column",gap:"10px"},g.createElement(b.Z,null),g.createElement(a.Z,{spacing:2,direction:"row",alignItems:"center",sx:{pl:"1rem",pr:"1rem"}},g.createElement(l.Z,{sx:{minWidth:"25%"},variant:"body2"},"Date"," "),g.createElement(O,{setData:C,data:k})),g.createElement(W,{handleSelectSlot:function(e){C(P(P({},k),{slot:parseInt(e.target.value)}))},slot:k.slot}),g.createElement(I,{servingSize:k.serving_size,handleSelectServingSize:function(e){C(P(P({},k),{serving_size:parseInt(e.target.value)}))},currentServingSizes:o,currentServingSizeUnit:c}),g.createElement(b.Z,null),g.createElement(a.Z,{spacing:2,direction:"row",alignItems:"center",sx:{pl:"1rem",pr:"1rem"}},g.createElement(l.Z,{sx:{minWidth:"25%"},variant:"body2"},"Number of servings"),g.createElement(j.$,{inputValue:k.servings,handleNumberChange:function(e){C((function(t){return P(P({},t),{servings:e.target.value})}))},label:"Enter Number of Servings",id:"servings"})))),g.createElement(y.Z,null,g.createElement(d.Z,{variant:"contained","aria-label":"cancel",onClick:n,color:"error"},"Cancel"),g.createElement(d.Z,{"data-testid":"add-foodLog-btn","aria-label":"submit the form to add the item to your food log",type:"submit",variant:"contained",color:"success"},"Submit"))))},q=n(3205),H=n(5503),V=n(813),$=n(7272),K=n(130),G=n(8790),J=n(2388),Q=n(9994),X=function(e){var t=e.brand_owner,n=e.description,r=e.fdc_id,a=e.serving_size,l=e.serving_size_unit,i=e.data_type,o=e.nutrition,c=e.custom_food_brand_owner,u=e.handleOpeningAddToFoodLogDialog,m=e.enableAddToFoodLogFeature,d=(0,g.useState)(!1),v=d[0],p=d[1],f="",h=[100];"custom"===i&&null!==c?f=c:("branded_food"===i&&null!==t||null!==t)&&(f=t);return g.createElement(g.Fragment,null,g.createElement(s.Z,{"data-testid":"food-search-item",sx:{"& > *":{borderBottom:"unset"}}},g.createElement($.Z,null,g.createElement(K.Z,{"aria-label":"expand row",size:"small",onClick:function(e){e.stopPropagation(),p(!v)}},v?g.createElement(V.Z,null):g.createElement(H.Z,null))),g.createElement($.Z,{component:"th",scope:"row"},(0,J.O)(f,n)),g.createElement($.Z,{className:"desktop-table-view",align:"right"},a," ",l),g.createElement($.Z,{align:"right"},Math.round(Number(o.calories)/100*Number(a))),m?g.createElement($.Z,{align:"right"},g.createElement(G.Z,{enterDelay:600,enterNextDelay:1200,title:"Delete item"},g.createElement(K.Z,{"aria-label":"add to food log",size:"small",onClick:function(){return 100!==a&&null!==a&&a<100&&a>1?h.unshift(a):100!==a&&null!==a&&a>100&&h.push(a),null===l&&(l="g"),void u(parseInt(r),i,h,l,n,f)}},g.createElement(q.Z,{color:"success"})))):g.createElement($.Z,null)),g.createElement(Q.K,{open:v,nutrition:o,serving_size:a,showStandardizedCol:!0}))},ee=function(e){var t=e.searchResults,n=e.handleLoadMore,p=e.setAlertMessage,f=e.setOpenSnackbar,h=e.setAlertSeverity,E=e.showLoadMoreBtn,b=e.enableAddToFoodLogFeature,y=(0,g.useState)(!1),Z=y[0],S=y[1],_=(0,g.useState)(0),w=_[0],z=_[1],x=(0,g.useState)(""),k=x[0],C=x[1],A=(0,g.useState)(""),F=A[0],D=A[1],O=(0,g.useState)(""),N=O[0],M=O[1],T=(0,g.useState)(""),Y=T[0],I=T[1],L=(0,g.useState)([100]),W=L[0],j=L[1],P=function(e,t,n,r,a,l){z(e),M(t),j(n),I(r),C(a),D(l),S(!Z)};return g.createElement(g.Fragment,null,g.createElement("div",{className:"food-search-list"},g.createElement(a.Z,{direction:"row",spacing:{xs:.5,sm:1},sx:{width:"100%"}},g.createElement(r.Z,null),g.createElement(l.Z,{variant:"body1"},"Click on the arrow to the left of each search result to view the nutrition facts for the item. Then click on the plus button to save the item to your food log.")),g.createElement(l.Z,{variant:"h6",align:"left"},"Search Results"),g.createElement("div",{className:"food-search-main-container"},g.createElement(i.Z,{component:o.Z},g.createElement(c.Z,{stickyHeader:!0,"aria-label":"search results"},g.createElement(u.Z,null,g.createElement(s.Z,null,g.createElement(v.Y,{variant:"head"}),g.createElement(v.Y,null,"Food Description"),g.createElement(v.Y,{align:"right",className:"desktop-table-view"},"Serving Size"),g.createElement(v.Y,{align:"right"},"Calories"),g.createElement(v.Y,{variant:"head"}))),g.createElement(m.Z,null,t.map((function(e,t){return g.createElement(X,{key:t,handleOpeningAddToFoodLogDialog:P,brand_owner:e.brand_owner,custom_food_brand_owner:e.custom_food_brand_owner,description:e.description,fdc_id:e.fdc_id,serving_size:e.serving_size,serving_size_unit:e.serving_size_unit,data_type:e.data_type,nutrition:e.nutrition,enableAddToFoodLogFeature:b})})))))),E?g.createElement(d.Z,{fullWidth:!0,onClick:n,variant:"text"},"Load More"):null),!0===b?g.createElement(U,{openDialog:Z,handleOpeningDialog:function(){S(!Z)},id:w,currentDataType:N,currentServingSizes:W,currentServingSizeUnit:Y,setOpenDialog:S,currentDescription:k,setAlertMessage:p,setOpenSnackbar:f,setAlertSeverity:h,currentBrand:F}):null)}},8878:(e,t,n)=>{n.d(t,{$:()=>i});var r=n(7888),a=n(2949),l=n(7294),i=function(e){var t=e.inputValue,n=e.handleNumberChange,i=e.label,o=e.id;return l.createElement(r.Z,{sx:{width:"100%"}},l.createElement(a.Z,{value:t,required:!0,id:o,label:i,type:"number",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0}))}},9994:(e,t,n)=>{n.d(t,{K:()=>Z});var r=n(8736),a=n(7272),l=n(8354),i=n(8720),o=n(9144),c=n(1647),u=n(7888),s=n(8508),m=n(2785),d=n(5841),g=n(3150),v=n(8561),p=n(6140),f=n(7294),h=n(3725),E=n(1523),b=function(e){var t=e.nutrientAmount,n=e.nutrientName,r=e.showRegularAmount,a=e.serving_size;return null===t?f.createElement(h.Y,{align:"right"},"-"):"Amount per Serving"===r?f.createElement(f.Fragment,null,f.createElement(h.Y,{align:"right"},Math.round(Number(t)/100*Number(a))," ",(0,E.O)(n))):f.createElement(f.Fragment,null,f.createElement(h.Y,{align:"right"},Math.round(Number(t))," ",(0,E.O)(n)))},y=function(e){var t=e.nutrientName,n=e.nutrientAmount,a=e.serving_size,l=e.showRegularAmount;return"id"===t||"meal_id"===t||"fdc_id"===t?null:"saturated_fat"===t||"trans_fat"===t||"dietary_fiber"===t||"total_sugars"===t?f.createElement(f.Fragment,null,f.createElement(r.Z,null,f.createElement(h.Y,{component:"th",scope:"row"},f.createElement(c.Z,{variant:"body2",sx:{pl:"20px"}},(0,E.i)(t))),f.createElement(b,{nutrientAmount:n,nutrientName:t,showRegularAmount:l,serving_size:a}))):f.createElement(f.Fragment,null,f.createElement(r.Z,null,f.createElement(h.Y,{component:"th",scope:"row"},f.createElement(c.Z,{variant:"body2",fontWeight:"bold"},(0,E.i)(t))),f.createElement(b,{nutrientAmount:n,nutrientName:t,showRegularAmount:l,serving_size:a})))},Z=function(e){var t=e.open,n=e.nutrition,E=e.serving_size,b=e.showStandardizedCol,Z=(0,f.useState)("Amount per Serving"),S=Z[0],_=Z[1];return f.createElement(r.Z,null,f.createElement(a.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},f.createElement(l.Z,{in:t,timeout:"auto",unmountOnExit:!0},f.createElement(i.Z,{sx:{margin:1}},f.createElement(o.Z,{direction:"row",sx:{width:"100%"},alignItems:"center"},f.createElement(c.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Nutrition Facts"),b?f.createElement(u.Z,{sx:{width:"100%"}},f.createElement(s.Z,null,"Show"),f.createElement(m.Z,{value:S,onChange:function(e){_(e.target.value)},label:"Show",required:!0,fullWidth:!0,size:"small",id:"data to show"},["Amount per Serving","Amount per 100 g"].map((function(e){return f.createElement(d.Z,{value:e,key:e},e)})))):null),f.createElement(g.Z,{size:"small","aria-label":"additional nutrition data",stickyHeader:!0},f.createElement(v.Z,null,f.createElement(r.Z,null,f.createElement(h.Y,null,"Nutrient"),f.createElement(h.Y,null,S))),f.createElement(p.Z,null,Object.entries(n).map((function(e){return f.createElement(y,{key:e[0],nutrientName:e[0],nutrientAmount:e[1],serving_size:E,showRegularAmount:S})}))))))))}},3725:(e,t,n)=>{n.d(t,{Y:()=>l});var r=n(7272),a=n(4026),l=(0,n(4174).ZP)(r.Z)((function(e){var t,n=e.theme;return(t={})["&.".concat(a.Z.head)]={backgroundColor:n.palette.background.paper},t["&.".concat(a.Z.body)]={fontSize:12,backgroundColor:n.palette.action.hover},t}))},1523:(e,t,n)=>{n.d(t,{O:()=>l,i:()=>a});var r={calories:["Calories",""],total_fat:["Total Fat","g"],saturated_fat:["Saturated Fat","g"],trans_fat:["Trans Fat","g"],cholesterol:["Cholesterol","mg"],sodium:["Sodium","mg"],total_carbohydrates:["Total Carbohydrates","g"],dietary_fiber:["Dietary Fiber","g"],total_sugars:["Total Sugars","g"],protein:["Protein","g"],vitamin_d:["Vitamin D","mcg"],calcium:["Calcium","mg"],iron:["Iron","mg"],potassium:["Potassium","mg"]},a=function(e){return r[e][0]},l=function(e){return r[e][1]}},2388:(e,t,n)=>{n.d(t,{O:()=>r});var r=function(e,t){var n="",r="";if(null!==e&&""!==e&&void 0!==e){for(var a=e.split(" "),l=0;l<a.length;l++)""!==a[l]&&(a[l]=a[l][0]+a[l].slice(1).toLowerCase());n=a.join(" ")}if(null!=t&&""!==t){var i=t.split(" ");for(l=0;l<i.length;l++)""!==i[l]&&(i[l]=i[l][0]+i[l].slice(1).toLowerCase());r=i.join(" ")}return""!==n?"".concat(r," (").concat(n,")"):r}}}]);