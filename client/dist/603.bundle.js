"use strict";(self.webpackChunkthe_diabetes_calculator=self.webpackChunkthe_diabetes_calculator||[]).push([[603],{272:(e,t,a)=>{a.d(t,{h:()=>g});var n=a(7294),r=a(6501),l=a(5295),o=a(4563),i=a(6867),u=a(4962),c=a(2643),s=a(2658),m=a(6447),d=a(9161),p=a(6914),h=a(3343),g=function(e){var t,a,g,v,E=e.route,f=e.image,b=e.title,y=e.restaurantChain,Z=e.nutrition,C=e.url,S=e.handleOpeningDialog,x=e.isMealPlanItem,w=e.servings;return"recipes"===E||"RECIPE"===E?Z.nutrients.forEach((function(e){"Calories"===e.name?t=Math.floor(Z.nutrients[0].amount):"Protein"===e.name?v=Math.floor(Z.nutrients[1].amount)+"g":"Fat"===e.name?g=Math.floor(Z.nutrients[1].amount):"Carbohydrates"===e.name&&(a=Math.floor(Z.nutrients[3].amount)+"g")})):(t=Z.calories,v=Z.protein,g=Z.fat,a=Z.carbs),n.createElement(r.Z,{elevation:1,className:"food-search-paper"},n.createElement(l.Z,{className:"search-item","data-testid":"food-search-item"},x?n.createElement(o.Z,{title:"Delete from Mealplan"},n.createElement(i.Z,{sx:{position:"absolute",alignSelf:"flex-end"},size:"small",color:"error","aria-label":"delete from mealplan",onClick:S},n.createElement(h.Z,null))):null,n.createElement(u.Z,{component:"img",alt:"food item image",height:"160",image:f}),n.createElement(c.Z,null,n.createElement(s.Z,{align:"center",variant:"subtitle1"},b),x?n.createElement(m.Z,{direction:"row"},n.createElement(s.Z,{variant:"subtitle2"},"Servings: ",w)):null,"menuItems"===E||"MENU_ITEM"===E&&n.createElement(s.Z,{variant:"h6"},y),n.createElement("div",{className:"search-item-nutrition"},n.createElement("div",{className:"search-item-nutrient"},n.createElement(s.Z,{variant:"subtitle2"},n.createElement("strong",null,"Calories")),n.createElement(s.Z,{variant:"body1"},t)),n.createElement("div",{className:"search-item-nutrient"},n.createElement(s.Z,{variant:"subtitle2"},n.createElement("strong",null,"Carbs")),n.createElement(s.Z,{variant:"body1"},a)),n.createElement("div",{className:"search-item-nutrient"},n.createElement(s.Z,{variant:"subtitle2"},n.createElement("strong",null,"Protein")),n.createElement(s.Z,{variant:"body1"},v)),n.createElement("div",{className:"search-item-nutrient"},n.createElement(s.Z,{variant:"subtitle2"},n.createElement("strong",null,"Fat")),n.createElement(s.Z,{variant:"body1"},g)))),n.createElement(d.Z,{sx:{display:"flex"}},void 0!==C?n.createElement(p.Z,{fullWidth:!0,component:"a",href:C,target:"_blank",className:"card-button",variant:"outlined",color:"secondary",size:"small"},"View Recipe"):null,x?null:n.createElement(p.Z,{fullWidth:!0,className:"card-button",onClick:S,variant:"outlined",size:"small","data-testid":"open-addtomealplan-dialog"},"Add to Mealplan"))))}},4740:(e,t,a)=>{a.d(t,{K:()=>s});var n=a(7294),r=a(1380),l=a(7049),o=a(4386),i=a(6867),u=a(724),c=350,s=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,s=e.SearchFormComponent,m=e.apiData,d=e.goals,p=e.page,h=e.nutritionSummary,g=e.mealplanItemsFound;return n.createElement(n.Fragment,null,"search"===p&&n.createElement(n.Fragment,null,n.createElement(l.ZP,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c,pt:"100px"}}},n.createElement(o.Z,null,n.createElement(i.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2,display:{sm:"none"}}},n.createElement(u.Z,null))),void 0!==m&&m.length?s:n.createElement(r.N,{goals:d,page:"search"})),n.createElement(l.ZP,{open:!0,variant:"permanent",ModalProps:{keepMounted:!0},sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c,pt:"100px"}}},void 0!==m&&m.length?s:n.createElement(r.N,{goals:d,page:"search"}))),"mealplan"===p&&void 0!==d&&n.createElement(n.Fragment,null,n.createElement(l.ZP,{variant:"temporary",open:t,onClose:a,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",sm:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c,pt:"100px"}}},n.createElement(o.Z,null,n.createElement(i.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:a,sx:{mr:2,display:{sm:"none"}}},n.createElement(u.Z,null))),h?n.createElement(r.N,{goals:d,nutritionSummary:h,page:"mealplan"}):null),n.createElement(l.ZP,{open:!0,variant:"permanent",ModalProps:{keepMounted:!0},sx:{display:{xs:"none",sm:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:c,pt:"100px"}}},h.length?n.createElement(r.N,{goals:d,nutritionSummary:h,page:"mealplan"}):null,h.length||g?null:n.createElement(r.N,{goals:d,page:"search"}))))}},9442:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ve});var n=a(7294),r=a(8991),l=a(6447),o=a(2658),i=a(4656),u=a(2640),c=a(6914),s=a(6446),m=a(3981),d=a(270),p=a(3460),h=function(e){var t=e.handleInputChange,a=e.measurement,r=e.nutrient,o=e.minValue,i=e.maxValue;return n.createElement(n.Fragment,null,n.createElement(l.Z,{direction:"row"},n.createElement(s.Z,{fullWidth:!0,variant:"standard",sx:{m:1,mt:3}},n.createElement(m.Z,{id:"min".concat(r),type:"number",required:!0,"data-testid":"textfield-min-nutrient",value:o,onChange:t,endAdornment:n.createElement(d.Z,{position:"end"},a),inputProps:{"aria-label":"Minimum ".concat(r)}}),n.createElement(p.Z,null,"Minimum ".concat(r))),n.createElement(s.Z,{fullWidth:!0,variant:"standard",sx:{m:1,mt:3}},n.createElement(m.Z,{id:"max".concat(r),"data-testid":"textfield-max-nutrient",type:"number",required:!0,value:i,onChange:t,endAdornment:n.createElement(d.Z,{position:"end"},a),inputProps:{"aria-label":"Maximum ".concat(r)}}),n.createElement(p.Z,null,"Maximum ".concat(r)))))},g=a(7666),v=a(7920),E=a(4347),f=function(e){var t=e.route,a=e.handleRouteChange;return n.createElement(s.Z,null,n.createElement(g.Z,null,"Search"),n.createElement(v.Z,{value:t,onChange:a,label:"Search",required:!0,"data-testid":"select-search-input"},n.createElement(E.Z,{value:"recipes"},"Recipes"),n.createElement(E.Z,{value:"groceryProducts"},"Grocery Products"),n.createElement(E.Z,{value:"menuItems"},"Menu items")),n.createElement(p.Z,null,"Choose the type of item you are searching for."))},b=a(4659),y=a(2761),Z=function(e){var t=e.query,a=e.handleInputChange;return n.createElement(b.Z,{id:"query",required:!0,"data-testid":"query-text-field",InputProps:{startAdornment:n.createElement(d.Z,{position:"start"},n.createElement(y.Z,null))},label:"Item",helperText:"Enter an ingredient or item you want your search to contain (i.e. chicken, greek yogurt, etc.)",value:t,onChange:a})},C=function(e){var t=e.type,a=e.handleTypeSelect;return n.createElement(s.Z,null,n.createElement(g.Z,null,"Type"),n.createElement(v.Z,{value:t,onChange:a,label:"Type",required:!0,id:"type","data-testid":"select-type-dropdown"},n.createElement(E.Z,{value:"maincourse"},"Main Course"),n.createElement(E.Z,{value:"sidedish"},"Side Dish"),n.createElement(E.Z,{value:"dessert"},"Dessert"),n.createElement(E.Z,{value:"appetizer"},"Appetizer"),n.createElement(E.Z,{value:"salad"},"Salad"),n.createElement(E.Z,{value:"bread"},"Bread"),n.createElement(E.Z,{value:"breakfast"},"Breakfast"),n.createElement(E.Z,{value:"soup"},"Soup"),n.createElement(E.Z,{value:"beverage"},"Beverage"),n.createElement(E.Z,{value:"sauce"},"Sauce"),n.createElement(E.Z,{value:"marinade"},"Marinade"),n.createElement(E.Z,{value:"fingerfood"},"Fingerfood"),n.createElement(E.Z,{value:"snack"},"Snack"),n.createElement(E.Z,{value:"drink"},"Drink")),n.createElement(p.Z,null,"Choose the type of item you are searching for."))},S=function(e){var t=e.route,a=e.values,r=e.handleRouteChange,i=e.handleInputChange,u=e.handleTypeSelect,s=e.goals,m=e.handleSuggestedSubmit;return n.createElement(n.Fragment,null,n.createElement("form",{onSubmit:m},n.createElement(l.Z,{spacing:3},n.createElement(o.Z,{variant:"subtitle2"}," ","Suggested goals are calculated based on recommend amounts per meal, considering 3 meals are had per day."),n.createElement(f,{route:t,handleRouteChange:r}),n.createElement(Z,{query:a.query,handleInputChange:i}),n.createElement(C,{type:a.type,handleTypeSelect:u}),n.createElement(o.Z,{variant:"h6"},"Choose Calorie Range"),n.createElement(h,{handleInputChange:i,measurement:"kcal",nutrient:"Calories",minValue:s.min_calories_per_meal,maxValue:s.max_calories_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Carb Range"),n.createElement(h,{handleInputChange:i,measurement:"g",nutrient:"Carbs",minValue:s.min_carbs_per_meal,maxValue:s.max_carbs_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Protein Range"),n.createElement(h,{handleInputChange:i,measurement:"g",nutrient:"Protein",minValue:s.min_protein_per_meal,maxValue:s.max_protein_per_meal}),n.createElement(o.Z,{variant:"h6"},"Choose Fat Range"),n.createElement(h,{handleInputChange:i,measurement:"g",nutrient:"Fat",minValue:s.min_fat_per_meal,maxValue:s.max_fat_per_meal}),n.createElement(c.Z,{type:"submit",variant:"contained"},"Submit"))))},x=function(e){var t=e.route,a=e.values,r=e.handleSubmit,i=e.handleRouteChange,u=e.handleInputChange,s=e.handleTypeSelect;return n.createElement(n.Fragment,null,n.createElement("form",{onSubmit:r},n.createElement(l.Z,{spacing:3},n.createElement(f,{route:t,handleRouteChange:i}),n.createElement(Z,{query:a.query,handleInputChange:u}),n.createElement(C,{type:a.type,handleTypeSelect:s}),n.createElement(o.Z,{variant:"h6"},"Choose Calorie Range"),n.createElement(h,{handleInputChange:u,measurement:"kcal",nutrient:"Calories",minValue:a.minCalories,maxValue:a.maxCalories}),n.createElement(o.Z,{variant:"h6"},"Choose Carb Range"),n.createElement(h,{handleInputChange:u,measurement:"g",nutrient:"Carbs",minValue:a.minCarbs,maxValue:a.maxCarbs}),n.createElement(o.Z,{variant:"h6"},"Choose Protein Range"),n.createElement(h,{handleInputChange:u,measurement:"g",nutrient:"Protein",minValue:a.minProtein,maxValue:a.maxProtein}),n.createElement(o.Z,{variant:"h6"},"Choose Fat Range"),n.createElement(h,{handleInputChange:u,measurement:"g",nutrient:"Fat",minValue:a.minFat,maxValue:a.maxFat}),n.createElement(c.Z,{type:"submit",variant:"contained"},"Submit"))))},w=function(){return w=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},w.apply(this,arguments)},_=function(e){var t=e.handleSubmit,a=e.route,c=e.setRoute,s=(e.setCurrentTab,e.currentTab),m=e.handleChange,d=e.values,p=e.setValues,h=e.goals,g=e.handleSuggestedSubmit,v=function(e){c(e.target.value)},E=function(e){var t;p(w(w({},d),((t={})[e.target.id]=e.target.value,t)))},f=function(e){p(w(w({},d),{type:e.target.value}))};return n.createElement("div",{className:"search-form"},n.createElement(l.Z,{direction:"row",spacing:1},n.createElement(r.Z,null),n.createElement(o.Z,{variant:"body1"},"Find recipes, grocery products, or menu items from over 800+ restaurants that match your nutrient goals")),n.createElement(i.Z,{value:s,onChange:m,"aria-label":"toggle suggested search",className:"search-form-tabs"},n.createElement(u.Z,{value:"custom-search",label:"Custom"}),n.createElement(u.Z,{value:"suggested-goals",label:"Suggested"})),"custom-search"===s?n.createElement(x,{route:a,values:d,handleSubmit:t,handleRouteChange:v,handleInputChange:E,handleTypeSelect:f}):n.createElement(S,{route:a,values:d,handleRouteChange:v,handleInputChange:E,handleTypeSelect:f,goals:h,handleSuggestedSubmit:g}))},M=a(3696),k=a(272),I=a(5725),P=[{value:1,name:"1"},{value:2,name:"2"},{value:3,name:"3"}],D=function(e){var t=e.servings,a=e.handleSelectServings;return n.createElement(s.Z,null,n.createElement(g.Z,null,"Servings"),n.createElement(v.Z,{value:"".concat(t),onChange:a,label:"Servings",required:!0,id:"servings",fullWidth:!0,sx:{width:"100%"}},P.map((function(e){return n.createElement(E.Z,{key:e.value,value:e.value},e.name)}))),n.createElement(p.Z,null,"Choose number of servings"))},T=[{value:1,name:"Morning"},{value:2,name:"Afternoon"},{value:3,name:"Evening"}],F=function(e){var t=e.slot,a=e.handleSelectSlot;return n.createElement(s.Z,null,n.createElement(g.Z,null,"Slot"),n.createElement(v.Z,{value:"".concat(t),onChange:a,label:"Slot",required:!0,fullWidth:!0,id:"slot"},T.map((function(e){return n.createElement(E.Z,{key:e.value,value:e.value},e.name)}))),n.createElement(p.Z,null,"Choose correct slot for chosen day"))},O=a(4666),A=a(7645),N=a(7750),R=a(1508),V=a(8979),q=a(2298),z=a(2856),j=a(7383),L=a(5842),W={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:10,Nov:9,Dec:11},U=a(2902),B=a(722),G=a(9119),J=a(8366),H=function(){return H=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},H.apply(this,arguments)},K=function(e){var t=e.setData,a=e.data,r=n.useState((0,J.Z)()),l=r[0],o=r[1],i=function(e){o(e);var n=function(e){var t=(e+"").split(" "),a=t[4],n=W[t[1]],r=a.split(":"),l=r[0],o=r[1],i=r[2];return{year:parseInt(t[3]),month:n,day:parseInt(t[2]),hour:parseInt(l),min:parseInt(o),sec:parseInt(i)}}((0,B.zonedTimeToUtc)(e,"UTC")),r=n.year,l=n.month,i=n.day,u=n.hour,c=n.min,s=n.sec,m=(0,G.Z)(new Date(r,l,i,u,c,s)),d=(0,U.Z)(m);t(H(H({},a),{date:d}))};return n.createElement(z._,{dateAdapter:q.Z},n.createElement(R.Z,{sx:{display:{xs:"block",sm:"none"}}},n.createElement(L.O,{label:"Select day",inputFormat:"MM/dd/yyyy",value:l,onChange:i,renderInput:function(e){return n.createElement(b.Z,H({},e,{variant:"standard"}))}})),n.createElement(R.Z,{sx:{display:{xs:"none",sm:"block"}}},n.createElement(j.$,{label:"Select day",inputFormat:"MM/dd/yyyy","data-testid":"date-picker-textfield",value:l,onChange:i,renderInput:function(e){return n.createElement(b.Z,H({},e,{variant:"standard"}))}})))},$=a(9669),Q=a.n($),X=function(){return X=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},X.apply(this,arguments)},Y=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function o(e){try{u(n.next(e))}catch(e){l(e)}}function i(e){try{u(n.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}u((n=n.apply(e,t||[])).next())}))},ee=function(e,t){var a,n,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},te=function(e){var t,a=e.openDialog,r=e.handleOpeningDialog,l=e.route,o=e.imageType,i=e.title,u=e.id,s=e.setOpenDialog,m=e.setAlertMessage,d=e.setOpenSnackbar,p=e.setAlertSeverity;t="recipes"===l?"RECIPE":"groceryProducts"===l?"PRODUCT":"MENU_ITEM";var h=(0,n.useState)({date:(0,U.Z)((0,J.Z)()),slot:1,position:0,type:t,value:{id:u,servings:1,title:i,imageType:o}}),g=h[0],v=h[1];return n.createElement(O.Z,{open:a},n.createElement(A.Z,{align:"left"},"Select preferred day, slot and number of servings to add to Meaplan"),n.createElement("form",{onSubmit:function(e){return Y(void 0,void 0,void 0,(function(){var t;return ee(this,(function(a){switch(a.label){case 0:e.preventDefault(),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Q().post("/api/mealplan",g)];case 2:return a.sent(),p("success"),m("Item has been added to your mealplan!"),d(!0),s(!1),[3,4];case 3:return t=a.sent(),console.log(t),[3,4];case 4:return[2]}}))}))}},n.createElement(N.Z,null,n.createElement(R.Z,{display:"flex",flexDirection:"column",gap:"1rem"},n.createElement(K,{setData:v,data:g}),n.createElement(F,{handleSelectSlot:function(e){v(X(X({},g),{slot:parseInt(e.target.value)}))},slot:g.slot}),n.createElement(D,{handleSelectServings:function(e){v((function(t){return X(X({},t),{value:X(X({},t.value),{servings:parseInt(e.target.value)})})}))},servings:g.value.servings}))),n.createElement(V.Z,null,n.createElement(c.Z,{"data-testid":"add-mealplan-btn","aria-label":"submit form to add to meal plan",type:"submit",variant:"contained"},"Submit"),n.createElement(c.Z,{variant:"contained","aria-label":"cancel",onClick:r,color:"error"},"Cancel"))))},ae=function(e){var t=e.route,a=e.image,r=e.imageType,l=e.title,o=e.nutrition,i=e.restaurantChain,u=e.url,c=e.id,s=e.setAlertMessage,m=e.setOpenSnackbar,d=e.setAlertSeverity,p=(0,n.useState)(!1),h=p[0],g=p[1],v=function(){g(!h)};return n.createElement(n.Fragment,null,n.createElement(I.ZP,{item:!0,xs:12,sm:6,md:4,"data-testid":"food-search-item"},n.createElement(k.h,{route:t,image:a,title:l,restaurantChain:i,nutrition:o,url:u,handleOpeningDialog:v,isMealPlanItem:!1})),n.createElement(te,{openDialog:h,handleOpeningDialog:v,route:t,imageType:r,title:l,id:c,setOpenDialog:g,setAlertMessage:s,setOpenSnackbar:m,setAlertSeverity:d}))},ne=a(7600),re=function(e){var t=e.apiData,a=e.route,r=e.handleLoadMore,i=e.setAlertMessage,u=e.setOpenSnackbar,s=e.setAlertSeverity,m=e.showLoadMoreBtn;return n.createElement("div",{className:"food-search-list"},n.createElement(l.Z,{direction:"row",spacing:1},n.createElement(ne.Z,null),n.createElement(o.Z,{variant:"body1"},"Click on the Add to Mealplan button then choose intended date and slot (morning, afternoon, or evening) to save any item")),n.createElement(I.ZP,{container:!0,spacing:2},t.map((function(e){return n.createElement(ae,{key:e.id,id:e.id,imageType:e.imageType,image:e.image,title:e.title,nutrition:e.nutrition,route:a,url:e.sourceUrl||void 0,restaurantChain:e.restaurantChain||void 0,setAlertMessage:i,setOpenSnackbar:u,setAlertSeverity:s})}))),m?n.createElement(c.Z,{fullWidth:!0,onClick:r,variant:"contained"},"Load More"):null)},le=a(9062),oe=a(4386),ie=a(6867),ue=a(4740),ce=function(e){var t=e.mobileOpen,a=e.handleDrawerToggle,r=e.SearchFormComponent,l=e.apiData,o=e.goals;return n.createElement(n.Fragment,null,n.createElement(ue.K,{mobileOpen:t,handleDrawerToggle:a,SearchFormComponent:r,apiData:l,goals:o,page:"search"}))},se=a(1566),me=a(9125),de=a(3379),pe=function(){return pe=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},pe.apply(this,arguments)},he=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function o(e){try{u(n.next(e))}catch(e){l(e)}}function i(e){try{u(n.throw(e))}catch(e){l(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(o,i)}u((n=n.apply(e,t||[])).next())}))},ge=function(e,t){var a,n,r,l,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,n=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(r=o.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){o.label=l[1];break}if(6===l[0]&&o.label<r[1]){o.label=r[1],r=l;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(l);break}r[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}};const ve=function(){var e=(0,se.useAuth)(),t=e.isLoading,a=(e.isLoggedIn,e.username,(0,n.useState)([])),r=a[0],l=a[1],o=(0,n.useState)(!1),i=o[0],u=o[1],c=(0,n.useState)(!1),s=c[0],m=c[1],d=(0,n.useState)("recipes"),p=d[0],h=d[1],g=(0,n.useState)("custom-search"),v=g[0],E=g[1],f=(0,n.useState)(!1),b=f[0],y=f[1],Z=(0,n.useState)("No options matched your search. Try again with a broader search."),C=Z[0],S=Z[1],x=(0,n.useState)("error"),w=x[0],k=x[1],I=(0,n.useState)({query:"",type:"",intolerance:"",minCalories:"",maxCalories:"",minCarbs:"",maxCarbs:"",minProtein:"",maxProtein:"",minFat:"",maxFat:"",number:6,offset:0}),P=I[0],D=I[1],T=(0,n.useState)({}),F=T[0],O=T[1],A=n.useState(!1),N=A[0],V=A[1],q=function(){V(!N)};(0,n.useEffect)((function(){var e=Q().get("/api/metrics",{withCredentials:!0});e.then((function(e){O(e.data)})),e.catch((function(e){console.log(e)}))}),[]);var z=n.createElement(_,{handleSubmit:function(e){return he(void 0,void 0,void 0,(function(){var t,a;return ge(this,(function(n){switch(n.label){case 0:t=pe(pe({},P),{offset:0}),D(t),n.label=1;case 1:return n.trys.push([1,3,,4]),m(!0),e.preventDefault(),[4,Q().get("/api/".concat(p),{params:t,withCredentials:!0})];case 2:return 0===(a=n.sent()).data.length?(S("No options matched your search. Try again with a broader search"),k("warning"),y(!0),u(!1)):(k("success"),S("Success! Here are your matching items."),y(!0),a.data.length<6?u(!1):u(!0)),l(a.data),m(!1),[3,4];case 3:return n.sent(),m(!1),[3,4];case 4:return[2]}}))}))},handleSuggestedSubmit:function(e){return he(void 0,void 0,void 0,(function(){var t,a,n,r;return ge(this,(function(o){switch(o.label){case 0:t=pe(pe({},P),{offset:0}),D(t),o.label=1;case 1:return o.trys.push([1,3,,4]),m(!0),e.preventDefault(),(a=P).minCalories=F.min_calories_per_meal,a.maxCalories=F.max_calories_per_meal,a.minCarbs=F.min_carbs_per_meal,a.maxCarbs=F.max_carbs_per_meal,a.minProtein=F.min_protein_per_meal,a.maxProtein=F.max_protein_per_meal,a.minFat=F.min_fat_per_meal,a.maxFat=F.max_fat_per_meal,[4,Q().get("/api/".concat(p),{params:a})];case 2:return 0===(n=o.sent()).data.length?(S("No options matched your search. Try again with a broader search"),k("warning"),y(!0),u(!1)):(k("success"),S("Success! Here are your matching items."),y(!0),n.data.length<6?u(!1):u(!0)),D(a),l(n.data),m(!1),[3,4];case 3:return r=o.sent(),console.log(r),m(!1),[3,4];case 4:return[2]}}))}))},route:p,setRoute:h,handleChange:function(e,t){E(t)},currentTab:v,setCurrentTab:E,values:P,setValues:D,goals:F});return n.createElement(n.Fragment,null,t?null:n.createElement(n.Fragment,null,n.createElement(me.Z,{isLoggedIn:!0}),n.createElement(R.Z,{className:"search-page",sx:{width:"100vw"}},s&&n.createElement(le.Z,{size:68}),n.createElement(oe.Z,{sx:{display:{sm:"none"}}},n.createElement(ie.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:q,sx:{mr:2,display:{sm:"none"}}},n.createElement(de.Z,null))),n.createElement(ce,{goals:F,mobileOpen:N,handleDrawerToggle:q,SearchFormComponent:z,apiData:r}),r.length?n.createElement(n.Fragment,null,n.createElement(re,{apiData:r,route:p,handleLoadMore:function(e){return he(void 0,void 0,void 0,(function(){var e,t,a;return ge(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),m(!0),e=pe(pe({},P),{offset:P.offset+6}),D(e),[4,Q().get("/api/".concat(p),{params:e})];case 1:return(t=n.sent()).data.length<6?u(!1):u(!0),l(r.concat(t.data)),m(!1),[3,3];case 2:return a=n.sent(),m(!1),console.log(a),[3,3];case 3:return[2]}}))}))},setAlertMessage:S,setOpenSnackbar:y,setAlertSeverity:k,showLoadMoreBtn:i})):n.createElement(n.Fragment,null,z),n.createElement(M.I,{openAlert:b,handleAlert:function(e){y(!1)},alertSeverity:w,alertMessage:C}))))}}}]);