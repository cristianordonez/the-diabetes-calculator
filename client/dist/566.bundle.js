"use strict";(self.webpackChunkthe_diabetes_calculator=self.webpackChunkthe_diabetes_calculator||[]).push([[566],{1566:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i,useAuth:()=>s});var n=a(7294),c=a(9669),u=a.n(c),r=a(6974),o=(0,n.createContext)({isLoggedIn:!1,isLoading:!0,username:""}),s=function(){return(0,n.useContext)(o)};const i=function(e){var t=e.children,a=(0,r.s0)(),c=(0,n.useState)(!1),s=c[0],i=c[1],l=(0,n.useState)(!0),h=l[0],d=l[1],f=(0,n.useState)(""),g=f[0],m=f[1];return(0,n.useEffect)((function(){var e=u().get("/api/authentication");e.then((function(e){m(e.data),d(!1),i(!0),u().get("api/metrics").then((function(e){0===e.data.length&&a("/macrocalculator")})).catch((function(e){console.log(e)}))})),e.catch((function(e){d(!1),i(!1),a("/",{state:{showError:!1},replace:!0})}))}),[]),n.createElement(n.Fragment,null,n.createElement(o.Provider,{value:{isLoading:h,isLoggedIn:s,username:g}},t))}}}]);