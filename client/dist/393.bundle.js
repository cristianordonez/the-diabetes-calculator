"use strict";(self.webpackChunkthe_macro_trainer=self.webpackChunkthe_macro_trainer||[]).push([[393],{6540:(e,t,n)=>{var r=n(5318);t.Z=void 0;var a=r(n(4938)),l=n(5893),o=(0,a.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},336:(e,t,n)=>{var r=n(5318);t.Z=void 0;var a=r(n(4938)),l=n(5893),o=(0,a.default)((0,l.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");t.Z=o},1646:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(6501),a=n(2658),l=n(7090),o=n(8779),i=n(584),c=n(7294),u=function(e){var t=e.currentDay,n=(0,o.Z)((0,i.Z)(new Date(t)),"MMMM dd, yyyy"),u=(0,o.Z)((0,l.Z)(new Date(t)),"MMMM dd, yyyy");return c.createElement(c.Fragment,null,c.createElement(r.Z,{className:"food-log-week-text",color:"secondary"},c.createElement(a.Z,{variant:"body1"},"Viewing Week:"),c.createElement(a.Z,{variant:"body1"},n),c.createElement(a.Z,{variant:"body1"},"-"),c.createElement(a.Z,{variant:"body1"},u)))}},8878:(e,t,n)=>{n.d(t,{$:()=>o});var r=n(6446),a=n(4659),l=n(7294),o=function(e){var t=e.inputValue,n=e.handleNumberChange,o=e.label,i=e.id;return l.createElement(r.Z,{sx:{width:"100%"}},l.createElement(a.Z,{value:t,required:!0,id:i,label:o,type:"number",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0}))}},9699:(e,t,n)=>{n.d(t,{K:()=>f});var r=n(8102),a=n(2981),l=n(1508),o=n(2658),i=n(9573),c=n(6011),u=n(8732),s=n(7294),m=n(3725),d=n(4052),f=function(e){var t=e.open,n=e.nutrition;return s.createElement(s.Fragment,null,s.createElement(d.A,null,s.createElement(r.Z,{style:{paddingBottom:0,paddingTop:0},colSpan:6},s.createElement(a.Z,{in:t,timeout:"auto",unmountOnExit:!0},s.createElement(l.Z,{sx:{margin:1}},s.createElement(s.Fragment,null,s.createElement(o.Z,{variant:"h6",gutterBottom:!0,component:"div"},"Nutrition Facts"),s.createElement(i.Z,{size:"small","aria-label":"additional nutrition data",stickyHeader:!0},s.createElement(c.Z,null,s.createElement(d.A,null,s.createElement(m.Y,null,"Nutrient"),s.createElement(m.Y,null,"Amount"))),s.createElement(u.Z,null,s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Calories"),null!==n.calories?s.createElement(m.Y,null,n.calories):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Total Fat"),null!==n.total_fat?s.createElement(m.Y,null,n.total_fat," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Saturated"),null!==n.saturated_fat?s.createElement(m.Y,null,n.saturated_fat," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Trans"),null!==n.trans_fat?s.createElement(m.Y,null,n.trans_fat," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Polyunsaturated"),null!==n.polyunsaturated_fat?s.createElement(m.Y,null,n.polyunsaturated_fat," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Monounsaturated"),null!==n.monounsaturated_fat?s.createElement(m.Y,null,n.monounsaturated_fat," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Cholesterol"),null!==n.cholesterol?s.createElement(m.Y,null,n.cholesterol," mg"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Sodium"),null!==n.sodium?s.createElement(m.Y,null,n.sodium," mg"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Total Carbohydrates"),null!==n.total_carbohydrates?s.createElement(m.Y,null,n.total_carbohydrates," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Dietary Fiber"),null!==n.dietary_fiber?s.createElement(m.Y,null,n.dietary_fiber," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{component:"th",scope:"row"},"Sugar"),null!==n.sugar?s.createElement(m.Y,null,n.sugar," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Protein"),null!==n.protein?s.createElement(m.Y,null,n.protein," g"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Vitamin D"),null!==n.vitamin_d?s.createElement(m.Y,null,n.vitamin_d," %"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Calcium"),null!==n.calcium?s.createElement(m.Y,null,n.calcium," %"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Iron"),null!==n.iron?s.createElement(m.Y,null,n.iron," %"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Potassium"),null!==n.potassium?s.createElement(m.Y,null,n.potassium," mg"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Vitamin A"),null!==n.vitamin_a?s.createElement(m.Y,null,n.vitamin_a," %"):s.createElement(m.Y,null,"-")),s.createElement(d.A,null,s.createElement(m.Y,{sx:{fontWeight:"bold"},component:"th",scope:"row"},"Vitamin C"),null!==n.vitamin_c?s.createElement(m.Y,null,n.vitamin_c," %"):s.createElement(m.Y,null,"-"))))))))))}},3725:(e,t,n)=>{n.d(t,{Y:()=>l});var r=n(8102),a=n(9755),l=(0,n(9602).ZP)(r.Z)((function(e){var t,n=e.theme;return(t={})["&.".concat(a.Z.head)]={backgroundColor:n.palette.background.paper},t["&.".concat(a.Z.body)]={fontSize:12,backgroundColor:n.palette.action.hover},t}))},4052:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(3694),a=(0,n(9602).ZP)(r.Z)((function(e){return{"&:nth-of-type(even)":{backgroundColor:e.theme.palette.background},"&:last-child td, &:last-child th":{border:0}}}))},2393:(e,t,n)=>{n.r(t),n.d(t,{default:()=>ye});var r=n(3147),a=n(6447),l=n(2658),o=n(4656),i=n(2640),c=n(9669),u=n.n(c),s=n(7349),m=n(8779),d=n(466),f=n(3946),p=n(3882);var h=n(7294),E=n(1646),g=n(1508),y=n(4659),v=n(7610),b=n(7383),w=n(2856),Z=n(5842),x=function(){return x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},x.apply(this,arguments)},_=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},Y=function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},S=function(e){var t=e.currentDay,n=e.setCurrentDay,r=e.setDayIndex,a=e.value,l=e.setValue,o=function(e){return _(void 0,void 0,void 0,(function(){return Y(this,(function(t){return r((0,d.Z)(e)),l(e),n((0,m.Z)(e,"yyyy-MM-dd")),[2]}))}))};return h.createElement(g.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center"}},h.createElement(w._,{dateAdapter:v.Z},h.createElement(g.Z,{sx:{display:{xs:"block",sm:"none"}}},h.createElement(Z.O,{label:"Current Date",inputFormat:"MM/dd/yyyy",value:t,onChange:o,renderInput:function(e){return h.createElement(y.Z,x({},e,{variant:"standard"}))}})),h.createElement(g.Z,{sx:{display:{xs:"none",sm:"block"}}},h.createElement(b.$,{label:"Current Date",inputFormat:"MM/dd/yyyy","data-testid":"date-picker-textfield",value:a,onChange:o,renderInput:function(e){return h.createElement(y.Z,x({},e,{variant:"standard"}))}}))))},C=n(4666),D=n(7645),F=n(7750),k=n(7720),A=n(8979),I=n(6914),M=function(e){var t=e.inputValue,n=e.handleInputChange,r=e.title,o=e.id,i=e.textFieldError;return h.createElement(h.Fragment,null,h.createElement(k.Z,null),h.createElement(a.Z,{alignItems:"center",direction:"row",spacing:2,sx:{pl:"1rem",pr:"1rem"}},h.createElement(l.Z,{sx:{minWidth:"25%"},variant:"body2"},r),h.createElement(y.Z,{sx:{flexGrow:"1"},id:o,error:i,label:"Brand owner"===r?"Optional":"Required",value:t,required:"Brand owner"!==r,onChange:n})))},N=n(8878),O=n(6501),W=n(6446),z={calories:"kcal",calcium:"mg",cholesterol:"mg",dietary_fiber:"g",iron:"mg",potassium:"mg",protein:"g",saturated_fat:"g",monounsaturated_fat:"g",polyunsaturated_fat:"g",sodium:"mg",sugar:"g",total_carbohydrates:"g",total_fat:"g",trans_fat:"g",vitamin_a:"IU",vitamin_c:"mg",vitamin_d:"IU"},L=function(e){var t=e.nutritionData,n=e.handleNutritionInput,r=function(e){for(var t=e.replace("_"," ").split(" "),n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].slice(1,t[n].length);return"calories"===e?t.join(" "):t.join(" ")+" (".concat(z[e],")")};return h.createElement(h.Fragment,null,h.createElement(O.Z,{elevation:5,sx:{width:"100%"}},h.createElement(l.Z,{variant:"h6",sx:{p:"1rem"}},"Nutrition Facts"),Object.keys(t).map((function(e,o){return h.createElement(h.Fragment,{key:o},h.createElement(k.Z,null),h.createElement(a.Z,{flexGrow:1,alignItems:"center",justifyContent:"space-between",direction:"row",sx:{p:"1rem"}},"calories"===e||"total_carbohydrates"===e||"protein"===e||"total_fat"===e?h.createElement(h.Fragment,null,h.createElement(l.Z,{sx:{fontWeight:"bold"}},r(e)),h.createElement(W.Z,{sx:{maxWidth:"40%"}},h.createElement(y.Z,{value:t["".concat(e)],required:!0,id:e,label:"Required",type:"number",variant:"outlined",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0}))):h.createElement(h.Fragment,null,h.createElement(l.Z,{variant:"body2"},r(e)),h.createElement(W.Z,{sx:{maxWidth:"40%"}},h.createElement(y.Z,{value:t[e],id:e,label:"Optional",type:"number",variant:"outlined",inputProps:{step:"0.1",lang:"en-US"},onChange:n,fullWidth:!0})))))}))))},j=n(7666),P=n(7920),T=n(1753),V=["g","mL"],U=function(e){var t=e.handleSelectChange,n=e.servingSizeUnit;return h.createElement(W.Z,{sx:{width:"100%"}},h.createElement(j.Z,null,"Unit"),h.createElement(P.Z,{value:n,onChange:t,label:"Serving Size Unit",required:!0,fullWidth:!0,id:"serving_size_unit"},V.map((function(e){return h.createElement(T.Z,{key:e,value:e},e)}))))},B=function(){return B=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},B.apply(this,arguments)},q=function(e){var t=e.openDialog,n=e.handleOpeningDialog,r=e.showNutrientDataForm,o=e.createFoodData,i=e.setCreateFoodData,c=e.handleSubmit,u=e.setShowNutrientDataForm,s=(0,h.useState)(!1),m=s[0],d=s[1],f=function(e){var t;i(B(B({},o),((t={})[e.target.id]=e.target.value,t)))};return(0,h.useEffect)((function(){d(!1)}),[t]),h.createElement(h.Fragment,null,h.createElement(C.Z,{open:t,fullWidth:!0},h.createElement(D.Z,null,"Create Custom Food"),h.createElement("form",{onSubmit:c},h.createElement(F.Z,{sx:{p:0,width:"100%"}},r?h.createElement(L,{handleNutritionInput:function(e){i((function(t){var n;return B(B({},t),{nutrition:B(B({},t.nutrition),(n={},n[e.target.id]=parseFloat(e.target.value),n))})}))},nutritionData:o.nutrition}):h.createElement(g.Z,{display:"flex",flexDirection:"column",gap:"10px"},h.createElement(M,{inputValue:o.brand_owner,title:"Brand owner",id:"brand_owner",textFieldError:!1,handleInputChange:f}),h.createElement(M,{inputValue:o.description,title:"Description",textFieldError:m,id:"description",handleInputChange:f}),h.createElement(k.Z,null),h.createElement(a.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",sx:{pl:"1rem",pr:"1rem"}},h.createElement(l.Z,{sx:{minWidth:"25%"},variant:"body2",align:"left"},"Serving Size"),h.createElement(N.$,{inputValue:o.serving_size,handleNumberChange:f,label:"Amount per serving",id:"serving_size"}),h.createElement(U,{servingSizeUnit:o.serving_size_unit,handleSelectChange:function(e){i(B(B({},o),{serving_size_unit:e.target.value}))}})))),h.createElement(A.Z,null,h.createElement(I.Z,{onClick:n,color:"error"},"Cancel"),r?h.createElement(I.Z,{"data-testid":"create-food-btn","aria-label":"submit form to create a new food",type:"submit",color:"success"},"Submit"):h.createElement(I.Z,{"data-testid":"create-food-btn","aria-label":"submit form to create a new food",onClick:function(e){e.preventDefault(),""===o.description?d(!0):u(!r)},color:"info"},"Almost done")))))},G=n(6540),H=n(5503),R=n(813),$=n(336),K=n(7896),J=n(9573),Q=n(6011),X=n(8732),ee=n(8102),te=n(4563),ne=n(6867),re=n(6974),ae=n(2388),le=n(9699),oe=n(3725),ie=n(4052),ce=function(){return ce=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},ce.apply(this,arguments)},ue=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},se=function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},me=function(e){var t=e.meals,n=e.setOpenAlert,r=e.setAlertSeverity,o=e.setAlertMessage,i=e.setFoodLogItems,c=e.currentDay,s=e.slotName,m=e.setNutritionSummary,d=e.handleOpeningDialog,f=e.slot,p=e.setCreateFoodData,E=e.createFoodData,g=(0,re.s0)(),y=(0,h.useState)(!1),v=y[0],b=y[1],w=function(e){e.stopPropagation(),b(!v)};return h.createElement(h.Fragment,null,h.createElement(K.Z,{component:O.Z},h.createElement(J.Z,{"aria-label":"Food items for ".concat(s)},h.createElement(Q.Z,null,h.createElement(ie.A,null,h.createElement(oe.Y,{sx:{fontWeight:"bold"},variant:"head"},s),h.createElement(oe.Y,{variant:"head"}),h.createElement(oe.Y,{variant:"head"}),h.createElement(oe.Y,{variant:"head"}),h.createElement(oe.Y,{variant:"head"}))),h.createElement(X.Z,null,t.map((function(e){return h.createElement(h.Fragment,{key:e.fdc_id},h.createElement(ie.A,{hover:!1,sx:{"& > *":{borderBottom:"unset"}}},h.createElement(ee.Z,null,h.createElement(te.Z,{enterDelay:600,enterNextDelay:1200,title:"View item's nutrition facts"},h.createElement(ne.Z,{"aria-label":"expand row",size:"small",onClick:w},v?h.createElement(R.Z,null):h.createElement(H.Z,null)))),h.createElement(ee.Z,null,(0,ae.O)(e.brand_owner,e.description)),h.createElement(ee.Z,null,Number(e.serving_size)*Number(e.servings)," ",e.serving_size_unit),h.createElement(ee.Z,null,e.nutrition.calories," kcal"),h.createElement(ee.Z,null,h.createElement(te.Z,{enterDelay:600,enterNextDelay:1200,title:"Delete item"},h.createElement(ne.Z,{"aria-label":"delete from food log",size:"small",onClick:function(){return function(e,t){return ue(void 0,void 0,void 0,(function(){var a,l;return se(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,u().delete("/api/foodLog/".concat(e),{params:{currentDay:t},withCredentials:!0})];case 1:return a=c.sent(),i(a.data.updatedItems),m(a.data.updatedNutritionSummary),r("success"),o("Food item has been deleted"),n(!0),[3,3];case 2:return l=c.sent(),console.log("err: ",l),r("error"),o("Unable to delete item. Please try again later."),n(!0),[3,3];case 3:return[2]}}))}))}(e.meal_id,c)}},h.createElement($.Z,{color:"error"}))))),h.createElement(le.K,{open:v,nutrition:e.nutrition}))})))),h.createElement(a.Z,{sx:{p:"5px"},alignItems:"center",direction:"row"},h.createElement(I.Z,{onClick:function(){return g("/home/search")}},h.createElement(G.Z,{fontSize:"small"}),h.createElement(l.Z,{variant:"overline"},"Add Food")),h.createElement(I.Z,{variant:"text",color:"secondary",onClick:function(e){p(ce(ce({},E),{slot:f})),d()}},h.createElement(G.Z,{fontSize:"small"}),h.createElement(l.Z,{variant:"overline"},"Add Custom Food")))))},de=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},fe=function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},pe=function(e){var t=e.foodLogItems,n=e.setFoodLogItems,r=e.setOpenAlert,l=e.setAlertSeverity,o=e.setAlertMessage,i=e.currentDay,c=e.setNutritionSummary,s=(0,h.useState)(!1),m=s[0],d=s[1],f=(0,h.useState)(!1),p=f[0],E=f[1],g={date:i,slot:1,data_type:"custom",servings:1,brand_owner:"",description:"",serving_size:100,serving_size_unit:"g",nutrition:{calories:"",total_fat:"",saturated_fat:"",polyunsaturated_fat:"",monounsaturated_fat:"",trans_fat:"",cholesterol:"",sodium:"",potassium:"",total_carbohydrates:"",dietary_fiber:"",sugar:"",protein:"",vitamin_a:"",vitamin_c:"",calcium:"",iron:"",vitamin_d:""}},y=(0,h.useState)(g),v=y[0],b=y[1],w=[],Z=[],x=[],_=[];t.length&&t.forEach((function(e){1===e.slot?w.push(e):2===e.slot?Z.push(e):3===e.slot?x.push(e):_.push(e)}));var Y=function(){d(!m),setTimeout((function(){E(!1)}),1e3)},S=["Morning","Afternoon","Evening","Snack"],C=[1,2,3,4],D=[w,Z,x,_];return h.createElement(h.Fragment,null,h.createElement(a.Z,{direction:"column",spacing:4,sx:{width:"100%"}},D.map((function(e,t){return h.createElement(me,{key:t,slotName:S[t],meals:e,setOpenAlert:r,setAlertSeverity:l,setAlertMessage:o,setFoodLogItems:n,currentDay:i,setNutritionSummary:c,handleOpeningDialog:Y,setCreateFoodData:b,createFoodData:v,slot:C[t]})})),h.createElement(q,{openDialog:m,showNutrientDataForm:p,setShowNutrientDataForm:E,handleOpeningDialog:Y,setCreateFoodData:b,createFoodData:v,handleSubmit:function(e){return de(void 0,void 0,void 0,(function(){var t,a;return fe(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e.preventDefault(),l("success"),o("Custom food has been added to your food log!"),[4,u().post("/api/foodLog/custom",v)];case 1:return t=i.sent(),n(t.data.updatedFoodLogItems),r(!0),c(t.data.updatedNutritionSummary),b(g),Y(),[3,3];case 2:return a=i.sent(),l("error"),o("Unable to add custom food to your food log"),r(!0),Y(),console.log(a),[3,3];case 3:return[2]}}))}))}})))},he=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function o(e){try{c(r.next(e))}catch(e){l(e)}}function i(e){try{c(r.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,i)}c((r=r.apply(e,t||[])).next())}))},Ee=function(e,t){var n,r,a,l,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return l={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function i(l){return function(i){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(a=o.trys,(a=a.length>0&&a[a.length-1])||6!==l[0]&&2!==l[0])){o=0;continue}if(3===l[0]&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(6===l[0]&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,i])}}},ge=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];const ye=function(e){var t=e.setAlertMessage,n=e.setOpenAlert,c=e.setAlertSeverity,g=e.setNutritionSummary,y=e.setFoodLogItems,v=e.setIsSearching,b=e.foodLogItems,w=(0,h.useState)((0,d.Z)(Date.now())),Z=w[0],x=w[1],_=h.useState(new Date(Date.now())),Y=_[0],C=_[1],D=(0,h.useState)((0,m.Z)(new Date(Date.now()),"yyyy-MM-dd")),F=D[0],k=D[1];(0,h.useEffect)((function(){A()}),[F]);var A=function(){return he(void 0,void 0,void 0,(function(){var e,r;return Ee(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,u().get("/api/foodLog/day",{params:{date:F},withCredentials:!0})];case 1:return 0===(e=a.sent()).data.foodLogItems.length&&(c("info"),t("You have no items saved on this day for your food log."),n(!0)),y(e.data.foodLogItems),g(e.data.nutritionSummary),v(!1),[3,3];case 2:return r=a.sent(),console.log(r),[3,3];case 3:return[2]}}))}))},I=function(e){var t=e.split("-");return{year:t[0],month:t[1],day:t[2]}};return h.createElement(h.Fragment,null,h.createElement("div",{className:"food-log-page"},h.createElement(E.T,{currentDay:F}),h.createElement("div",{className:"food-log-page-main-content"},h.createElement(a.Z,{direction:"row",spacing:{xs:1,sm:4},alignItems:"space-evenly"},h.createElement(a.Z,{direction:"row",spacing:.5,sx:{width:"50%"},justifyContent:"space-between"},h.createElement(r.Z,null),h.createElement(l.Z,{variant:"body1"},"Change the current day by navigating through the tabs, or change the week by using the calendar dropdown to the right")),h.createElement(S,{currentDay:F,setCurrentDay:k,setDayIndex:x,value:Y,setValue:C})),h.createElement("div",{className:"tabs-container"},h.createElement(o.Z,{value:Z,onChange:function(e,t){var n,r=t-Z,a=I(F),l=a.year,o=a.month,i=a.day;r>0?n=(0,s.Z)(new Date("".concat(l,", ").concat(o,", ").concat(i)),r):r<0&&(n=function(e,t){(0,p.Z)(2,arguments);var n=(0,f.Z)(t);return(0,s.Z)(e,-n)}(new Date("".concat(l,", ").concat(o,", ").concat(i)),Math.abs(r))),void 0!==n&&(C(n),x(t),k((0,m.Z)(n,"yyyy-MM-dd")))},variant:"scrollable",scrollButtons:"auto","aria-label":"change FoodLog date"},ge.map((function(e){return h.createElement(i.Z,{key:e,label:e})})))),h.createElement(pe,{setFoodLogItems:y,currentDay:F,foodLogItems:b,setOpenAlert:n,setAlertSeverity:c,setAlertMessage:t,setNutritionSummary:g}))))}},2388:(e,t,n)=>{n.d(t,{O:()=>r});var r=function(e,t){var n="",r="";if(null!==e&&""!==e&&void 0!==e){for(var a=e.split(" "),l=0;l<a.length;l++)""!==a[l]&&(a[l]=a[l][0]+a[l].slice(1).toLowerCase());n=a.join(" ")}if(null!=t&&""!==t){var o=t.split(" ");for(l=0;l<o.length;l++)""!==o[l]&&(o[l]=o[l][0]+o[l].slice(1).toLowerCase());r=o.join(" ")}return""!==n?"".concat(r," (").concat(n,")"):r}}}]);