"use strict";(self.webpackChunkthe_macro_trainer=self.webpackChunkthe_macro_trainer||[]).push([[838],{8991:(e,t,a)=>{var n=a(4836);t.Z=void 0;var r=n(a(4938)),l=a(5893),s=(0,r.default)((0,l.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.11-.9-2-2-2H4c-1.11 0-2 .89-2 2v10c0 1.1.89 2 2 2H0v2h24v-2h-4ZM4 16V6h16v10.01L4 16Zm5.0967-6.0469c0-1.027.836-1.864 1.864-1.864 1.027 0 1.864.837 1.864 1.864 0 1.027-.837 1.864-1.864 1.864-1.028 0-1.864-.837-1.864-1.864Zm7.032 4.236-2.482-2.482c.331-.505.527-1.107.527-1.754 0-1.772-1.441-3.213-3.213-3.213s-3.214 1.441-3.214 3.213 1.442 3.214 3.214 3.214c.636 0 1.225-.192 1.724-.511l2.489 2.488.955-.955Z"}),"ScreenSearchDesktop");t.Z=s},8262:(e,t,a)=>{a.d(t,{v:()=>o});var n=a(2761),r=a(2949),l=a(9316),s=a(7294),o=function(e){var t=e.query,a=e.id,o=e.handleInputChange,c=e.helperText;return s.createElement(r.Z,{id:a,required:!0,"data-testid":"query-text-field",InputProps:{startAdornment:s.createElement(l.Z,{position:"start"},s.createElement(n.Z,null))},helperText:c,value:t,onChange:o})}},3837:(e,t,a)=>{a.d(t,{c:()=>b});var n=a(9144),r=a(5305),l=a(7294),s=a(1647),o=a(7888),c=a(5878),i=a(9316),u=a(2853),m=function(e){var t,a,r=e.handleInputChange,m=e.measurement,d=e.nutrient,h=e.minValue,g=e.maxValue,p=e.goals;return"Carbs"===d?(a=p.total_carbohydrates,t="Carbohydrate"):"Calories"===d?(a=p.total_calories,t="Calorie"):"Fat"===d?(a=p.total_fat,t=d):"Protein"===d&&(a=p.total_protein,t=d),l.createElement(l.Fragment,null,l.createElement(n.Z,{direction:"column"},l.createElement(s.Z,{variant:"h6"},"Choose ",t," Range"),l.createElement(s.Z,{color:"textSecondary",variant:"subtitle2"},"Daily Goal: ",a," ",m),l.createElement(n.Z,{direction:"row"},l.createElement(o.Z,{fullWidth:!0,variant:"standard",sx:{m:1,mt:3}},l.createElement(c.Z,{id:"min".concat(d),type:"number",required:!0,"data-testid":"textfield-min-nutrient",value:h,onChange:r,endAdornment:l.createElement(i.Z,{position:"end"},m),inputProps:{"aria-label":"Minimum ".concat(d),"helper-text":"test"}}),l.createElement(u.Z,null,"Minimum ".concat(d))),l.createElement(o.Z,{fullWidth:!0,variant:"standard",sx:{m:1,mt:3}},l.createElement(c.Z,{id:"max".concat(d),"data-testid":"textfield-max-nutrient",type:"number",required:!0,value:g,onChange:r,endAdornment:l.createElement(i.Z,{position:"end"},m),inputProps:{"aria-label":"Maximum ".concat(d)}}),l.createElement(u.Z,null,"Maximum ".concat(d))))))},d=a(8262),h=a(8720),g=a(8904),p=a(8037),v=a(9125),f=function(e){var t=e.allergen,a=e.handleRadioClick,n=(t.slice(0,1).toUpperCase()+t.slice(1)).replace("_"," ");return l.createElement(l.Fragment,null,l.createElement(p.Z,{control:l.createElement(v.Z,{onClick:a}),label:n,value:t}))},y=["dairy","eggs","soy","tree_nuts","peanuts","shellfish","fish","wheat"],E=function(e){var t=e.allergy,a=e.handleRadioClick;return l.createElement(l.Fragment,null,l.createElement(h.Z,{sx:{display:"flex",flexDirection:"column"}},l.createElement(s.Z,{variant:"h6"},"Allergens"),l.createElement(o.Z,null,l.createElement(g.Z,{row:!0,sx:{display:"flex",gap:"1rem"},value:t},y.map((function(e){return l.createElement(f,{handleRadioClick:a,key:e,allergen:e})}))),l.createElement(u.Z,null,"Leave all options unselected if you do not have any allergies"))))},b=function(e){var t=e.values,a=e.handleSubmit,s=e.handleInputChange,o=e.goals,c=e.handleRadioClick;return l.createElement(l.Fragment,null,l.createElement("form",{onSubmit:a},l.createElement(n.Z,{spacing:3},l.createElement(d.v,{query:t.query,id:"query",handleInputChange:s,helperText:"Search by food"}),l.createElement(E,{allergy:t.allergy,handleRadioClick:c}),l.createElement(m,{handleInputChange:s,measurement:"kcal",nutrient:"Calories",goals:o,minValue:t.minCalories,maxValue:t.maxCalories}),l.createElement(m,{handleInputChange:s,measurement:"g",nutrient:"Carbs",goals:o,minValue:t.minCarbs,maxValue:t.maxCarbs}),l.createElement(m,{handleInputChange:s,measurement:"g",nutrient:"Protein",goals:o,minValue:t.minProtein,maxValue:t.maxProtein}),l.createElement(m,{handleInputChange:s,measurement:"g",nutrient:"Fat",goals:o,minValue:t.minFat,maxValue:t.maxFat}),l.createElement(r.Z,{type:"submit",variant:"contained"},"Submit"))))}},6162:(e,t,a)=>{a.d(t,{y:()=>r});var n=a(9250),r=function(){return(0,n.bx)()}},7744:(e,t,a)=>{a.r(t),a.d(t,{default:()=>i});var n=a(8720),r=a(5705),l=a(7294),s=a(2104),o=a(6162),c=a(3785);const i=function(){var e=(0,o.y)(),t=e.isSearching,a=e.handleLoadMore,i=e.setAlertMessage,u=e.setOpenAlert,m=e.setAlertSeverity,d=e.showLoadMoreBtn,h=e.searchResults,g=e.setIsSearching,p=e.handleSubmit,v=e.values,f=e.setValues,y=e.goals,E=e.setShowLoadMoreBtn,b=e.setSearchResults,S=e.setSendAdvancedRequest;return(0,l.useEffect)((function(){g(!1)}),[]),l.createElement(l.Fragment,null,l.createElement(l.Fragment,null,l.createElement(n.Z,{className:"search-page",sx:{width:"100%"}},h.length?l.createElement(l.Fragment,null,l.createElement(s.B,{searchResults:h,handleLoadMore:a,setAlertMessage:i,setOpenSnackbar:u,setAlertSeverity:m,enableAddToFoodLogFeature:!0,showLoadMoreBtn:d})):l.createElement(c.U,{handleSubmit:p,values:v,setValues:f,goals:y,setAlertMessage:i,setAlertSeverity:m,setIsSearching:g,setOpenAlert:u,setShowLoadMoreBtn:E,setSearchResults:b,setSendAdvancedRequest:S}),t?l.createElement(r.Z,{size:68}):null)))}},3785:(e,t,a)=>{a.d(t,{U:()=>E});var n=a(8991),r=a(9144),l=a(1647),s=a(5293),o=a(214),c=a(7294),i=a(3837),u=a(5305),m=a(9669),d=a.n(m),h=a(8262),g=function(){return g=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},g.apply(this,arguments)},p=function(e,t,a,n){return new(a||(a=Promise))((function(r,l){function s(e){try{c(n.next(e))}catch(e){l(e)}}function o(e){try{c(n.throw(e))}catch(e){l(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}c((n=n.apply(e,t||[])).next())}))},v=function(e,t){var a,n,r,l,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return l={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l;function o(l){return function(o){return function(l){if(a)throw new TypeError("Generator is already executing.");for(;s;)try{if(a=1,n&&(r=2&l[0]?n.return:l[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,l[1])).done)return r;switch(n=0,r&&(l=[2&l[0],r.value]),l[0]){case 0:case 1:r=l;break;case 4:return s.label++,{value:l[1],done:!1};case 5:s.label++,n=l[1],l=[0];continue;case 7:l=s.ops.pop(),s.trys.pop();continue;default:if(!(r=s.trys,(r=r.length>0&&r[r.length-1])||6!==l[0]&&2!==l[0])){s=0;continue}if(3===l[0]&&(!r||l[1]>r[0]&&l[1]<r[3])){s.label=l[1];break}if(6===l[0]&&s.label<r[1]){s.label=r[1],r=l;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(l);break}r[2]&&s.ops.pop(),s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e],n=0}finally{a=r=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([l,o])}}},f=function(e){var t=e.values,a=e.handleInputChange,n=e.setValues,l=e.setAlertMessage,s=e.setAlertSeverity,o=e.setIsSearching,i=e.setOpenAlert,m=e.setShowLoadMoreBtn,f=e.setSearchResults,y=e.setSendAdvancedRequest;return c.createElement(c.Fragment,null,c.createElement("form",{onSubmit:function(e){return p(void 0,void 0,void 0,(function(){var a,r,c;return v(this,(function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),e.preventDefault(),"/api/food/all",o(!0),y(!1),a=g(g({},t),{offset:0}),n(a),[4,d().get("/api/food/all",{params:a})];case 1:return 0===(r=u.sent()).data.length?(l("No options matched your search. Try again with a broader search"),s("warning"),i(!0),m(!1)):(s("success"),l("Success! Here are your matching items."),i(!0),r.data.length<6?m(!1):m(!0),f(r.data)),o(!1),[3,3];case 2:return c=u.sent(),o(!1),s("error"),l("Unable to get search results. Please try again later."),i(!0),console.error(c),[3,3];case 3:return[2]}}))}))}},c.createElement(r.Z,{spacing:3},c.createElement(h.v,{query:t.query,id:"query",handleInputChange:a,helperText:"Search by food"}),c.createElement(u.Z,{type:"submit",variant:"contained"},"Submit"))))},y=function(){return y=Object.assign||function(e){for(var t,a=1,n=arguments.length;a<n;a++)for(var r in t=arguments[a])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},y.apply(this,arguments)},E=function(e){var t=e.handleSubmit,a=e.values,u=e.setValues,m=e.goals,d=e.setAlertMessage,h=e.setAlertSeverity,g=e.setIsSearching,p=e.setOpenAlert,v=e.setShowLoadMoreBtn,E=e.setSearchResults,b=e.setSendAdvancedRequest,S=(0,c.useState)("advanced-search"),Z=S[0],C=S[1],x=function(e){var t;u(y(y({},a),((t={})[e.target.id]=e.target.value,t)))};return c.createElement("div",{className:"search-form"},c.createElement(r.Z,{direction:"row",spacing:1},c.createElement(n.Z,null),c.createElement(l.Z,{variant:"body1"},"Search from a list of over 350,000 foods to find the ones that match your nutrient goals")),c.createElement(s.Z,{value:Z,onChange:function(e,t){C(t)},"aria-label":"toggle suggested search",className:"search-form-tabs",indicatorColor:"secondary",textColor:"secondary"},c.createElement(o.Z,{value:"advanced-search",label:"Advanced"}),c.createElement(o.Z,{value:"simple-search",label:"Simple"})),"advanced-search"===Z?c.createElement(i.c,{values:a,handleSubmit:t,handleInputChange:x,goals:m,handleRadioClick:function(e){e.target.value===a.allergy?u(y(y({},a),{allergy:""})):u(y(y({},a),{allergy:e.target.value}))}}):c.createElement(f,{values:a,handleInputChange:x,setValues:u,setAlertMessage:d,setAlertSeverity:h,setIsSearching:g,setOpenAlert:p,setShowLoadMoreBtn:v,setSearchResults:E,setSendAdvancedRequest:b}))}}}]);