"use strict";(self.webpackChunkthe_diabetes_calculator=self.webpackChunkthe_diabetes_calculator||[]).push([[779],{891:(e,t,r)=>{var n=r(5318);t.Z=void 0;var a=n(r(4938)),o=r(5893),i=(0,a.default)((0,o.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email");t.Z=i},5449:(e,t,r)=>{var n=r(5318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e,r&&r.set(e,n)}(r(7294));var a=n(r(4938)),o=r(5893);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var l=(0,a.default)((0,o.jsx)("path",{d:"M12 1.27a11 11 0 00-3.48 21.46c.55.09.73-.28.73-.55v-1.84c-3.03.64-3.67-1.46-3.67-1.46-.55-1.29-1.28-1.65-1.28-1.65-.92-.65.1-.65.1-.65 1.1 0 1.73 1.1 1.73 1.1.92 1.65 2.57 1.2 3.21.92a2 2 0 01.64-1.47c-2.47-.27-5.04-1.19-5.04-5.5 0-1.1.46-2.1 1.2-2.84a3.76 3.76 0 010-2.93s.91-.28 3.11 1.1c1.8-.49 3.7-.49 5.5 0 2.1-1.38 3.02-1.1 3.02-1.1a3.76 3.76 0 010 2.93c.83.74 1.2 1.74 1.2 2.94 0 4.21-2.57 5.13-5.04 5.4.45.37.82.92.82 2.02v3.03c0 .27.1.64.73.55A11 11 0 0012 1.27"}),"GitHub");t.Z=l},9535:(e,t,r)=>{var n=r(5318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e,r&&r.set(e,n)}(r(7294));var a=n(r(4938)),o=r(5893);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var l=(0,a.default)((0,o.jsx)("path",{d:"M12.545,10.239v3.821h5.445c-0.712,2.315-2.647,3.972-5.445,3.972c-3.332,0-6.033-2.701-6.033-6.032s2.701-6.032,6.033-6.032c1.498,0,2.866,0.549,3.921,1.453l2.814-2.814C17.503,2.988,15.139,2,12.545,2C7.021,2,2.543,6.477,2.543,12s4.478,10,10.002,10c8.396,0,10.249-7.85,9.426-11.748L12.545,10.239z"}),"Google");t.Z=l},8005:(e,t,r)=>{var n=r(5318);t.Z=void 0;!function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var l=a?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}n.default=e,r&&r.set(e,n)}(r(7294));var a=n(r(4938)),o=r(5893);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}var l=(0,a.default)((0,o.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn");t.Z=l},3882:(e,t,r)=>{function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}r.d(t,{Z:()=>n})},5570:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(9013),a=r(3882);function o(e){return(0,a.Z)(1,arguments),(0,n.Z)(e).getFullYear()}},9013:(e,t,r)=>{r.d(t,{Z:()=>a});var n=r(3882);function a(e){(0,n.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},8339:(e,t,r)=>{r.d(t,{$:()=>d});var n=r(7294),a=r(1508),o=r(6447),i=r(6867),l=r(2658),c=r(891),s=r(5570),u=r(5449),f=r(8005),d=function(){var e=(0,s.Z)(new Date(Date.now()));return n.createElement(n.Fragment,null,n.createElement(a.Z,{sx:{display:"flex",width:"100%",bottom:"0",justifyContent:"center",alignItems:"center",flexDirection:"column",marginTop:"auto",paddingTop:"8rem",paddingBottom:"1rem",flexShrink:"0"}},n.createElement(o.Z,{direction:"row",spacing:2},n.createElement(i.Z,{"aria-label":"link to github",target:"_blank",href:"https://github.com/cristianordonez"},n.createElement(u.Z,{color:"inherit"})),n.createElement(i.Z,{"aria-label":"link to linkedin",target:"_blank",href:"https://www.linkedin.com/in/cristian-ordonez-rd/"},n.createElement(f.Z,{color:"inherit"})),n.createElement(i.Z,{href:"mailto:cristianordonezrd@gmail.com"},n.createElement(c.Z,{color:"inherit"}))),n.createElement(l.Z,{variant:"body2"}," ","Created by Cristian Ordonez Â© ",e," ")))}},9291:(e,t,r)=>{r.d(t,{H:()=>o});var n=r(7294),a=r(4659),o=function(e){var t=e.showTextFieldError,r=e.handleCreateAccountChange,o=e.errorMessage;return n.createElement(a.Z,{required:!0,"data-testid":"confirm-password-textfield",error:t,label:"Confirm Password",placeholder:"Confirm Password",onChange:r,type:"password",name:"confirmedPassword",variant:"filled",fullWidth:!0,helperText:t?o:"Enter your password"})}},9019:(e,t,r)=>{r.d(t,{a:()=>o});var n=r(7294),a=r(4659),o=function(e){var t=e.handleCreateAccountChange;return n.createElement(a.Z,{required:!0,onChange:t,"data-testid":"email-textfield",label:"Email",placeholder:"Email",type:"email",name:"email",variant:"filled",fullWidth:!0,helperText:"Enter your email"})}},3088:(e,t,r)=>{r.d(t,{T:()=>o});var n=r(7294),a=r(4659),o=function(e){var t=e.showTextFieldError,r=e.errorMessage,o=e.showSignup,i=e.handleCreateAccountChange,l=e.handleLoginChange;return n.createElement(a.Z,{required:!0,error:t,onChange:o?i:l,label:"Password",placeholder:"Password",type:"password",name:"password",variant:"filled",fullWidth:!0,helperText:t?r:"Enter your password"})}},5831:(e,t,r)=>{r.r(t),r.d(t,{default:()=>T});var n=r(7294),a=r(8339),o=r(6501),i=r(2658),l=r(6914),c=r(6447),s=r(3088),u=r(4659),f=function(e){var t=e.showSignup,r=e.handleCreateAccountChange,a=e.handleLoginChange;return n.createElement(u.Z,{inputProps:{"data-testid":"username-textfield"},required:!0,onChange:t?r:a,label:t?"Username":"Username or Email",type:"text",variant:"filled",name:"username",placeholder:t?"Username":"Username or Email",fullWidth:!0,id:"username",helperText:t?"Enter your username":"Enter your username or email"})},d=r(6974);const p=r.p+"aff557eece24fd0164aa.svg";var h=r(9535),m=r(9669),g=r.n(m),v=function(){return v=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},v.apply(this,arguments)},w=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function l(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))},y=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},E=function(e){var t=e.showSignup,r=e.setAlertSeverity,a=e.handleRedirectToSignup,u=e.showTextFieldError,m=e.setShowTextFieldError,E=e.errorMessage,b=e.setErrorMessage,S=e.handleErrorAlert,x=(0,d.s0)(),Z=(0,n.useState)({username:"",password:""}),C=Z[0],O=Z[1],k=function(e){var t,r;r="username"===e.target.name?e.target.value.toLowerCase():e.target.value,O(v(v({},C),((t={})[e.target.name]=r,t)))};return n.createElement(n.Fragment,null,n.createElement("div",{className:"login-form"},n.createElement("img",{src:p}),n.createElement("div",{className:"login-form-card"},n.createElement(o.Z,{component:"form",elevation:2,onSubmit:function(e){return w(void 0,void 0,void 0,(function(){return y(this,(function(t){switch(t.label){case 0:e.preventDefault(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,g().post("/api/login",C,{withCredentials:!0})];case 2:return 200===t.sent().status&&(m(!1),x("/search",{replace:!0})),[3,4];case 3:return t.sent(),r("error"),b("No matching username and password found."),m(!0),S(),[3,4];case 4:return[2]}}))}))},className:"login-form-input"},n.createElement(i.Z,{variant:"h6"},"Log in"),n.createElement(l.Z,{variant:"contained",fullWidth:!0,component:"a",color:"error",href:"/api/login/federated/google"},n.createElement(h.Z,null),n.createElement(i.Z,{variant:"button",align:"right",sx:{marginLeft:"10px"}},"Sign in with Google")),n.createElement(i.Z,{variant:"h6"},"or"),n.createElement(f,{showSignup:t,handleLoginChange:k}),n.createElement(s.T,{showTextFieldError:u,showSignup:t,errorMessage:E,handleLoginChange:k}),n.createElement(i.Z,{align:"right",className:"login-form-text",sx:{"&:hover":{cursor:"pointer"},width:"100%"},onClick:function(){x("/account-recovery")},variant:"caption"},"Forgot password?"),n.createElement(l.Z,{"data-testid":"login-btn",type:"submit",fullWidth:!0,variant:"contained"},"Log In"),n.createElement(c.Z,{direction:"row"},n.createElement(i.Z,{className:"login-form-account-text",variant:"caption"},"Don't have an account yet?"," "),n.createElement(l.Z,{variant:"text",onClick:a},n.createElement(i.Z,{align:"center","data-testid":"create-account-btn",className:"login-form-text",variant:"caption"},"Create Account")))))))},b=r(2028),S=r(9291),x=r(9019),Z=function(){return Z=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},Z.apply(this,arguments)},C=function(e,t,r,n){return new(r||(r=Promise))((function(a,o){function i(e){try{c(n.next(e))}catch(e){o(e)}}function l(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,l)}c((n=n.apply(e,t||[])).next())}))},O=function(e,t){var r,n,a,o,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,n=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){i.label=o[1];break}if(6===o[0]&&i.label<a[1]){i.label=a[1],a=o;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(o);break}a[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},k=function(e){var t=e.showSignup,r=e.setShowSignup,a=e.handleRedirectToSignup,c=e.showTextFieldError,u=e.setShowTextFieldError,d=e.errorMessage,p=e.setErrorMessage,m=e.setOpenErrorAlert,v=e.setAlertSeverity,w=(0,n.useState)(!1),y=w[0],E=w[1],k=(0,n.useState)({username:"",email:"",password:"",confirmedPassword:""}),j=k[0],M=k[1],T=function(e){var t,r;r="username"===e.target.name||"email"===e.target.name?e.target.value.toLowerCase():e.target.value,M(Z(Z({},j),((t={})[e.target.name]=r,t)))};(0,n.useEffect)((function(){u(!1)}),[]);return n.createElement("div",{className:"signup"},y?n.createElement(b.C,{setOpenErrorAlert:m,setErrorMessage:p,setShowNextPage:E,setShowSignup:r,setAlertSeverity:v}):n.createElement(o.Z,{onSubmit:function(e){return C(void 0,void 0,void 0,(function(){var t;return O(this,(function(r){switch(r.label){case 0:return e.preventDefault(),j.password===j.confirmedPassword?[3,1]:(p("Your passwords do not match"),m(!0),u(!0),[3,4]);case 1:return r.trys.push([1,3,,4]),[4,g().post("/api/signup",j)];case 2:return r.sent(),m(!1),E(!0),[3,4];case 3:return t=r.sent(),console.log("err:",t),v("error"),p("An account with that username or email already exists. Try logging in instead."),m(!0),[3,4];case 4:return[2]}}))}))},component:"form",className:"signup-form","data-testid":"signup-form"},n.createElement(i.Z,{variant:"h6"},"Create an account"),n.createElement(l.Z,{variant:"contained",fullWidth:!0,component:"a",color:"error",href:"/api/login/federated/google"},n.createElement(h.Z,null),n.createElement(i.Z,{variant:"button",align:"right",sx:{marginLeft:"10px"}},"Sign in with Google")),n.createElement(i.Z,{variant:"h6"},"or"),n.createElement(i.Z,{variant:"subtitle1"},"Please enter your details"),n.createElement(f,{showSignup:t,handleCreateAccountChange:T}),n.createElement(x.a,{handleCreateAccountChange:T}),n.createElement(s.T,{showTextFieldError:c,showSignup:t,handleCreateAccountChange:T,errorMessage:d}),n.createElement(S.H,{errorMessage:d,showTextFieldError:c,handleCreateAccountChange:T}),n.createElement(l.Z,{"data-testid":"initial-signup-form-btn",type:"submit",fullWidth:!0,variant:"contained"},"Create Account"),n.createElement(l.Z,{variant:"text",onClick:a},n.createElement(i.Z,{align:"center",className:"signup-form-text",variant:"caption"},"Go back"))))},j=r(3696),M=r(9125);const T=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1],o=(0,n.useState)("success"),i=o[0],l=o[1],c=(0,n.useState)(!1),s=c[0],u=c[1],f=(0,n.useState)(!1),p=f[0],h=f[1],m=(0,n.useState)(""),g=m[0],v=m[1],w=function(){h(!0)},y=function(){r(!t)},b=(0,d.TH)();return(0,n.useEffect)((function(){b.state&&b.state.resetPassword&&(l("success"),v("Your password has been reset!"),h(!0))}),[b]),n.createElement(n.Fragment,null,n.createElement(M.Z,{isLoggedIn:!1}),t?n.createElement(k,{showSignup:t,setShowSignup:r,setAlertSeverity:l,handleRedirectToSignup:y,showTextFieldError:s,setShowTextFieldError:u,errorMessage:g,setErrorMessage:v,setOpenErrorAlert:h}):n.createElement(E,{showSignup:t,setAlertSeverity:l,handleRedirectToSignup:y,showTextFieldError:s,setShowTextFieldError:u,errorMessage:g,setErrorMessage:v,handleErrorAlert:w}),n.createElement(j.I,{openAlert:p,handleAlert:w,alertSeverity:i,alertMessage:g}),n.createElement(a.$,null))}}}]);